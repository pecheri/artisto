{"version":3,"sources":["components/search/Result.js","components/search/Results.js","components/search/index.js","pages/Search.js","services/firebase.js","hooks/useUser.js","images/logo.png","components/Header.js","lib/categories.js","components/SideProfile.js"],"names":["Result","username","fullName","photo","title","bio","className","src","alt","length","substr","Results","results","selectedFilter","searchKeyword","notFound","users","filter","user","includes","toLowerCase","map","index","getFilteredResults","propTypes","PropTypes","array","string","isRequired","SearchIndex","useState","setSearchKeyword","selectedCategory","setSelectedCategory","setSelectedFilter","setResults","displayFilterButtons","setDisplayFilterButtons","console","log","isInvalid","searchHandle","event","a","preventDefault","getSearchResults","result","onSubmit","type","placeholder","value","onChange","target","hidden","categories","sort","category","disabled","onClick","Search","Header","SideProfile","doesUsernameExist","firebase","firestore","collection","where","get","docs","getUserByUserId","userId","item","data","docId","id","getUserByUsername","IsUserFollowingProfileUser","profileUserId","response","getFollowingPhotosByUserId","following","userFollowedPhotos","Promise","all","userLikedPhoto","likes","userInfo","userFollowedPhotosWithDetails","getPhotosbyUserId","photos","updateUserFollowing","userDocId","isUserFollowing","doc","update","FieldValue","arrayRemove","arrayUnion","updateProfileUserFollowers","profileUserDocId","followers","toggleFollow","getFollowingOrFollowersList","userIds","userList","updateProfile","imageFile","url","formData","FormData","append","Axios","post","then","secure_url","useUser","useContext","UserContext","activeUser","setActiveUser","useEffect","uid","getUserInfoByUserId","FirebaseContext","history","useHistory","to","ROUTES","logo","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","auth","signOut","push","color","highlightColor","width","height","circle"],"mappings":"+OAGe,SAASA,EAAT,GAA4D,IAA1CC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,MAAOC,EAAO,EAAPA,IAC/D,OACI,qBAAKC,UAAU,gDAAf,SACI,sBAAKA,UAAU,gCAAf,UACI,qBAAKA,UAAU,mBAAf,SACI,qBAAKC,IAAKJ,EAAOK,IAAG,UAAKP,EAAL,kBAA+BK,UAAU,6BAEjE,sBAAKA,UAAU,kBAAf,UACI,mBAAGA,UAAU,UAAb,SAAwBJ,IACxB,oBAAGI,UAAU,UAAb,UACI,sBAAMA,UAAU,UAAhB,kBACCL,KAEL,mBAAGK,UAAU,eAAb,SAA6BF,IAC7B,oBAAGE,UAAU,sCAAb,UACI,sBAAMA,UAAU,UAAhB,mBACCD,EAAII,OAAS,IAAb,UAAsBJ,EAAIK,OAAO,EAAG,KAApC,OAAgDL,aCf1D,SAASM,EAAT,GAA8D,IAA3CC,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,eAAgBC,EAAiB,EAAjBA,cACjDC,EACF,qBAAKT,UAAU,SAAf,SACI,mBAAGA,UAAU,8BAAb,0BAgJR,OAAQM,EA5ImB,WACvB,GAAuB,QAAnBC,EAA0B,CAC1B,IAAMG,EAAQJ,EACTK,QACG,SAACC,GAAD,OACIA,EAAKjB,SAASkB,SAASL,EAAcM,gBACrCF,EAAKhB,SAASkB,cAAcD,SAASL,EAAcM,gBACnDF,EAAKd,MAAMe,SAASL,EAAcM,gBAClCF,EAAKb,IAAIc,SAASL,EAAcM,kBAEvCC,KAAI,SAACH,EAAMI,GAAP,OACD,cAACtB,EAAD,CAEIC,SAAUiB,EAAKjB,SACfC,SAAUgB,EAAKhB,SACfC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,IAAKa,EAAKb,KALLiB,MAQjB,OAAIN,EAAMP,OAAS,EACRO,EAEAD,EAER,GAAuB,aAAnBF,EAA+B,CACtC,IAAMG,EAAQJ,EACTK,QACG,SAACC,GAAD,OACIA,EAAKjB,SAASkB,SAASL,EAAcM,gBACrCF,EAAKhB,SAASkB,cAAcD,SAASL,EAAcM,kBAE1DC,KAAI,SAACH,EAAMI,GAAP,OACD,cAACtB,EAAD,CAEIC,SAAUiB,EAAKjB,SACfC,SAAUgB,EAAKhB,SACfC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,IAAKa,EAAKb,KALLiB,MAQjB,OAAIN,EAAMP,OAAS,EACRO,EAEAD,EAER,GAAuB,UAAnBF,EAA4B,CACnC,IAAMG,EAAQJ,EACTK,QAAO,SAACC,GAAD,OAAUA,EAAKd,MAAMgB,cAAcD,SAASL,EAAcM,kBACjEC,KAAI,SAACH,EAAMI,GAAP,OACD,cAACtB,EAAD,CAEIC,SAAUiB,EAAKjB,SACfC,SAAUgB,EAAKhB,SACfC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,IAAKa,EAAKb,KALLiB,MAQjB,OAAIN,EAAMP,OAAS,EACRO,EAEAD,EAER,GAAuB,QAAnBF,EAA0B,CACjC,IAAMG,EAAQJ,EACTK,QAAO,SAACC,GAAD,OAAUA,EAAKb,IAAIe,cAAcD,SAASL,EAAcM,kBAC/DC,KAAI,SAACH,EAAMI,GAAP,OACD,cAACtB,EAAD,CAEIC,SAAUiB,EAAKjB,SACfC,SAAUgB,EAAKhB,SACfC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,IAAKa,EAAKb,KALLiB,MAQjB,OAAIN,EAAMP,OAAS,EACRO,EAEAD,GA2DMQ,GAAP,KAGtBZ,EAAQa,UAAY,CAChBZ,QAASa,IAAUC,MACnBb,eAAgBY,IAAUE,OAAOC,WACjCd,cAAeW,IAAUE,OAAOC,Y,YCxJrB,SAASC,IAAe,IAAD,EACQC,mBAAS,IADjB,mBAC3BhB,EAD2B,KACZiB,EADY,OAEcD,mBAAS,IAFvB,mBAE3BE,EAF2B,KAETC,EAFS,OAGUH,mBAAS,OAHnB,mBAG3BjB,EAH2B,KAGXqB,EAHW,OAIJJ,mBAAS,MAJL,mBAI3BlB,EAJ2B,KAIlBuB,EAJkB,OAKsBL,oBAAS,GAL/B,mBAK3BM,EAL2B,KAKLC,EALK,KAOlCC,QAAQC,IAAIP,GAEZ,IAAMQ,EAA8B,KAAlB1B,GAA6C,KAArBkB,EAEpCS,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACjBD,EAAME,iBADW,SAEIC,YAAiBb,GAFrB,OAEXc,EAFW,OAGjBX,EAAWW,GACXT,GAAwB,GAJP,2CAAH,sDAOlB,OACI,sBAAK/B,UAAU,uBAAf,UACI,8BACI,uBAAMA,UAAU,gCAAgCyC,SAAUN,EAA1D,UACI,uBACIO,KAAK,OACLC,YAAY,YACZ3C,UAAU,mFACV4C,MAAOpC,EACPqC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBrB,EAAiBqB,EAAOF,UAEtD,yBACI5C,UAAU,sEACV6C,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBnB,EAAoBmB,EAAOF,QACrDA,MAAOlB,EAHX,UAKI,wBAAQqB,QAAM,EAACH,MAAM,GAArB,sBAGCI,IAAWC,OAAOlC,KAAI,SAACmC,EAAUlC,GAAX,OACnB,wBAAoB4B,MAAOM,EAA3B,SACKA,GADQlC,MAIjB,wBAAQ4B,MAAM,SAAd,uBAEJ,wBACIF,KAAK,SACL1C,UAAS,kEACLkC,GAAa,cAEjBiB,SAAUjB,EALd,yBAWR,sBAAKlC,UAAS,8DAAyD8B,GAAwB,UAA/F,UACI,wBACIY,KAAK,SACL1C,UAAS,yBAAuC,QAAnBO,GAA4B,oCACzDqC,MAAM,MACNQ,QAAS,gBAAGN,EAAH,EAAGA,OAAH,OAAgBlB,EAAkBkB,EAAOF,QAJtD,iBAQA,wBACIF,KAAK,SACLE,MAAM,WACN5C,UAAS,eAA6B,aAAnBO,GAAiC,oCACpD6C,QAAS,gBAAGN,EAAH,EAAGA,OAAH,OAAgBlB,EAAkBkB,EAAOF,QAJtD,sBAQA,wBACIF,KAAK,SACLE,MAAM,QACN5C,UAAS,eAA6B,UAAnBO,GAA8B,oCACjD6C,QAAS,gBAAGN,EAAH,EAAGA,OAAH,OAAgBlB,EAAkBkB,EAAOF,QAJtD,mBAQA,wBACIF,KAAK,SACLE,MAAM,MACN5C,UAAS,eAA6B,QAAnBO,GAA4B,oCAC/C6C,QAAS,gBAAGN,EAAH,EAAGA,OAAH,OAAgBlB,EAAkBkB,EAAOF,QAJtD,oBASJ,cAACvC,EAAD,CAASC,QAASA,EAASC,eAAgBA,EAAgBC,cAAeA,OCzFvE,SAAS6C,IACpB,OACI,sBAAKrD,UAAU,YAAf,UACI,cAACsD,EAAA,EAAD,IACA,qBAAKtD,UAAU,oCAAf,SACI,sBAAKA,UAAU,+CAAf,UACI,cAACuB,EAAD,IACA,cAACgC,EAAA,EAAD,c,0bCTb,SAAeC,EAAtB,kC,4CAAO,WAAiC7D,GAAjC,eAAA0C,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,SAASC,MAAM,WAAY,KAAMjE,GAAUkE,MAD7F,cACGrB,EADH,OAEHR,QAAQC,IAAIO,EAAOsB,KAAK3D,OAAS,GAF9B,kBAGIqC,EAAOsB,KAAK3D,OAAS,GAHzB,4C,sBAMA,SAAe4D,EAAtB,kC,4CAAO,WAA+BC,GAA/B,iBAAA3B,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,SAASC,MAAM,SAAU,KAAMI,GAAQH,MADzF,cACGrB,EADH,OAEG5B,EAAO4B,EAAOsB,KAAK/C,KAAI,SAACkD,GAAD,mBAAC,eACvBA,EAAKC,QADiB,IAEzBC,MAAOF,EAAKG,QAJb,kBAMIxD,GANJ,4C,sBASA,SAAeyD,EAAtB,kC,4CAAO,WAAiC1E,GAAjC,iBAAA0C,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,SAASC,MAAM,WAAY,KAAMjE,GAAUkE,MAD7F,cACGrB,EADH,OAEG5B,EAAO4B,EAAOsB,KAAK/C,KAAI,SAACkD,GAAD,mBAAC,eACvBA,EAAKC,QADiB,IAEzBC,MAAOF,EAAKG,QAJb,kBAMIxD,GANJ,4C,sBASA,SAAe0D,EAAtB,oC,4CAAO,WAA0C3E,EAAU4E,GAApD,uBAAAlC,EAAA,sEACkBoB,IAChBC,YACAC,WAAW,SACXC,MAAM,WAAY,KAAMjE,GACxBiE,MAAM,YAAa,iBAAkBW,GACrCV,MANF,cACGrB,EADH,SAOqBA,EAAOsB,KAAK/C,KAAI,SAACkD,GAAD,mBAAC,eAClCA,EAAKC,QAD4B,IAEpCC,MAAOF,EAAKG,QATb,0BAOII,OAPJ,MAOe,GAPf,oBAWIA,EAASR,QAXb,4C,sBAmBA,SAAeS,EAAtB,oC,4CAAO,WAA0CC,EAAWV,GAArD,mBAAA3B,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,UAAUC,MAAM,SAAU,KAAMc,GAAWb,MAD7F,cACGrB,EADH,OAEGmC,EAAqBnC,EAAOsB,KAAK/C,KAAI,SAAClB,GAAD,mBAAC,eACrCA,EAAMqE,QAD8B,IAEvCC,MAAOtE,EAAMuE,QAJd,SAMyCQ,QAAQC,IAChDF,EAAmB5D,IAAnB,uCAAuB,WAAOlB,GAAP,uBAAAwC,EAAA,6DACfyC,GAAiB,EACjBjF,EAAMkF,MAAMlE,SAASmD,KACrBc,GAAiB,GAHF,SAKMf,EAAgBlE,EAAMmE,QAL5B,0CAKZgB,EALY,KAMXrF,EAAaqF,EAAbrF,SANW,2CAQfA,YACGE,GATY,IAUfiF,oBAVe,2CAAvB,wDAPD,cAMGG,EANH,yBAqBIA,GArBJ,4C,sBAwBA,SAAeC,EAAtB,kC,4CAAO,WAAiClB,GAAjC,iBAAA3B,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,UAAUC,MAAM,SAAU,KAAMI,GAAQH,MAD1F,cACGrB,EADH,OAEG2C,EAAS3C,EAAOsB,KAAK/C,KAAI,SAAClB,GAAD,mBAAC,eACzBA,EAAMqE,QADkB,IAE3BC,MAAOtE,EAAMuE,QAJd,kBAMIe,GANJ,4C,sBASA,SAAeC,EAAtB,sC,4CAAO,WAAmCC,EAAWd,EAAee,GAA7D,SAAAjD,EAAA,sDACHoB,IACKC,YACAC,WAAW,SACX4B,IAAIF,GACJG,OAAO,CACJd,UAAWY,EAAkBG,IAAWC,YAAYnB,GAAiBkB,IAAWE,WAAWpB,KANhG,4C,sBAUA,SAAeqB,EAAtB,sC,4CAAO,WAA0CC,EAAkB7B,EAAQsB,GAApE,SAAAjD,EAAA,sDACHoB,IACKC,YACAC,WAAW,SACX4B,IAAIM,GACJL,OAAO,CACJM,UAAWR,EAAkBG,IAAWC,YAAY1B,GAAUyB,IAAWE,WAAW3B,KANzF,4C,sBAUA,SAAe+B,EAAtB,0C,4CAAO,WAA4BV,EAAWrB,EAAQ6B,EAAkBtB,EAAee,GAAhF,SAAAjD,EAAA,sEACG+C,EAAoBC,EAAWd,EAAee,GADjD,uBAEGM,EAA2BC,EAAkB7B,EAAQsB,GAFxD,4C,sBAcA,SAAeU,EAAtB,kC,4CAAO,WAA2CC,GAA3C,eAAA5D,EAAA,sEACkBuC,QAAQC,IACzBoB,EAAQlF,IAAR,uCAAY,WAAOiD,GAAP,mBAAA3B,EAAA,sEACiB0B,EAAgBC,GADjC,0CACDkC,EADC,KAERlE,QAAQC,IAAI,WAAYiE,GAFhB,kBAGDA,GAHC,2CAAZ,wDAFD,cACG1D,EADH,OAQHR,QAAQC,IAAI,SAAUO,GARnB,kBASIA,GATJ,4C,sBAYA,SAAeD,EAAtB,kC,4CAAO,WAAgCW,GAAhC,iBAAAb,EAAA,sEACkBoB,IAASC,YAAYC,WAAW,SAASC,MAAM,WAAY,KAAMV,GAAUW,MAD7F,cACGrB,EADH,OAEG9B,EAAQ8B,EAAOsB,KAAK/C,KAAI,SAACkD,GAAD,mBAAC,eACxBA,EAAKC,QADkB,IAE1BC,MAAOF,EAAKG,QAEhBpC,QAAQC,IAAIvB,GANT,kBAOIA,GAPJ,4C,sBA2BA,SAAeyF,EAAtB,4C,4CAAO,WAA6BhC,EAAOvE,EAAUsD,EAAUpD,EAAOC,EAAKqG,GAApE,iBAAA/D,EAAA,0DACC+D,EADD,wBAEKC,EAAM,IACJC,EAAW,IAAIC,UACZC,OAAO,OAAQJ,EAAU,IAClCE,EAASE,OAAO,gBAAiB,YACjCF,EAASE,OAAO,aAAc,QAN/B,SAQOC,IAAMC,KAAK,yDAA0DJ,GAEtEK,MAAK,YAAe,IAAZzC,EAAW,EAAXA,KAELmC,EAAMnC,EAAK0C,WACX5E,QAAQC,IAAI,MAAOoE,MAb5B,OAgBC5C,IAASC,YAAYC,WAAW,SAAS4B,IAAIpB,GAAOqB,OAAO,CACvD5F,WACAsD,WACApD,QACAC,MACAF,MAAOwG,IArBZ,wBAwBC5C,IAASC,YAAYC,WAAW,SAAS4B,IAAIpB,GAAOqB,OAAO,CACvD5F,WACAsD,WACApD,QACAC,QA5BL,6C,sJCpJQ,SAAS8G,IAAW,IACvBjG,EAASkG,qBAAWC,KAApBnG,KADsB,EAEMY,mBAAS,IAFf,mBAEvBwF,EAFuB,KAEXC,EAFW,KAa9B,OATAC,qBAAU,WAAM,4CACZ,gCAAA7E,EAAA,sEAC2B0B,YAAgBnD,EAAKuG,KADhD,mCACW3E,EADX,KAEIyE,EAAczE,GAFlB,4CADY,uBAKZ,OAAI5B,QAAJ,IAAIA,OAAJ,EAAIA,EAAMuG,MALG,WAAD,wBAMRC,KAEL,CAACxG,IACG,CAAEoE,SAAUgC,K,gCCjBR,QAA0B,kC,gCCAzC,mHAUe,SAAS1D,IAEHwD,qBAAWC,KAApBnG,KAFqB,IAGrB6C,EAAaqD,qBAAWO,KAAxB5D,SACF6D,EAAUC,cAMRvC,EAAa6B,cAAb7B,SAYR,OACI,qBAAKhF,UAAU,yEAAf,SACI,sBAAKA,UAAU,kEAAf,UACI,cAAC,IAAD,CAAMwH,GAAIC,IAAV,SACI,oBAAIzH,UAAU,YAAd,SACI,qBAAKC,IAAKyH,IAAMxH,IAAI,gBAG5B,sBAAKF,UAAU,6BAAf,UACI,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMwH,GAAIC,IAAV,SACI,qBACIE,MAAM,6BACN3H,UAAU,0BACV4H,KAAK,OACLC,QAAQ,YACRC,OAAO,eALX,SAOI,sBACIC,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,sDAKlB,qBAAKlI,UAAU,OAAf,SACI,cAAC,IAAD,CAAMwH,GAAIC,IAAV,SACI,qBACIE,MAAM,6BACN3H,UAAU,0BACV4H,KAAK,OACLC,QAAQ,YACRC,OAAO,eALX,SAOI,sBACIC,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,wKAKlB,qBAAKlI,UAAU,8BAAf,SACI,cAAC,IAAD,CAAMwH,GAAE,aAAQxC,EAASrF,UAAzB,SACI,qBAAKM,IAAK+E,EAASnF,MAAOG,UAAU,+BAG5C,qBAAKA,UAAU,sBAAsBoD,QAnE/B,WAClBK,EAAS0E,OAAOC,UAChBd,EAAQe,KAAKZ,MAiED,SACI,qBACIE,MAAM,6BACN3H,UAAU,0BACV4H,KAAK,OACLC,QAAQ,YACRC,OAAO,eALX,SAOI,sBACIC,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,4G,gCC9FlC,kCAAO,IAAMlF,EAAa,CAAC,aAAc,aAAc,YAAa,iBAAkB,WAAY,iB,gCCAlG,+FAQe,SAASO,IAAc,IAkB1ByB,EAAa6B,cAAb7B,SAER,OACI,cAAC,gBAAD,CAAesD,MAAM,UAAUC,eAAe,UAA9C,SACI,qBAAKvI,UAAU,2BAAf,SACI,sBAAKA,UAAU,yEAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,cAAC,IAAD,CAAMwH,GAAE,aAAQxC,EAASrF,UAAzB,SACMqF,EAASnF,MAGP,qBAAKI,IAAK+E,EAASnF,MAAOG,UAAU,sBAFpC,cAAC,IAAD,CAAUwI,MAAO,IAAKC,OAAQ,IAAKC,QAAQ,QAMrD1D,EAASpF,SAKP,qCACI,sBAAKI,UAAU,4CAAf,UACI,mBAAGA,UAAU,iCAAb,SAA+CgF,EAASpF,WACxD,oBAAGI,UAAU,0BAAb,UACI,sBAAMA,UAAU,UAAhB,kBACCgF,EAASrF,YAEd,mBAAGK,UAAU,+BAAb,SAA6CgF,EAASlF,QACtD,oBAAGE,UAAU,+BAAb,UACI,sBAAMA,UAAU,WAAhB,wBACCgF,EAAS9B,eAGlB,sBAAKlD,UAAU,aAAf,UACI,mBAAGA,UAAU,0BAAb,kBACA,mBAAGA,UAAU,6CAAb,SAA2DgF,EAASjF,YAnB5E,qBAAKC,UAAU,iDAAf,SACI,cAAC,IAAD,CAAUwI,MAAO,IAAKC,OAAQ","file":"static/js/8.146c2840.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Result({ username, fullName, photo, title, bio }) {\n    return (\n        <div className=\"w-3/4 min-w-full mx-auto text-gray-light mb-8\">\n            <div className=\"grid grid-cols-6 items-center\">\n                <div className=\"flex justify-end\">\n                    <img src={photo} alt={`${username} profile photo`} className=\"w-16 h-16 rounded-full\" />\n                </div>\n                <div className=\"ml-6 col-span-5\">\n                    <p className=\"text-lg\">{fullName}</p>\n                    <p className=\"text-sm\">\n                        <span className=\"text-xs\">ID: </span>\n                        {username}\n                    </p>\n                    <p className=\"text-sm pt-2\">{title}</p>\n                    <p className=\"text-xs break-words w-full max-w-md\">\n                        <span className=\"text-sm\">Bio: </span>\n                        {bio.length > 100 ? `${bio.substr(0, 100)}...` : bio}\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nResult.propTypes = {\n    username: PropTypes.string.isRequired,\n    fullName: PropTypes.string.isRequired,\n    photo: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    bio: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Result from './Result';\n\nexport default function Results({ results, selectedFilter, searchKeyword }) {\n    const notFound = (\n        <div className=\"w-full\">\n            <p className=\"text-center text-gray-light\">No Results</p>\n        </div>\n    );\n\n    const getFilteredResults = () => {\n        if (selectedFilter === 'all') {\n            const users = results\n                .filter(\n                    (user) =>\n                        user.username.includes(searchKeyword.toLowerCase()) ||\n                        user.fullName.toLowerCase().includes(searchKeyword.toLowerCase()) ||\n                        user.title.includes(searchKeyword.toLowerCase()) ||\n                        user.bio.includes(searchKeyword.toLowerCase())\n                )\n                .map((user, index) => (\n                    <Result\n                        key={index}\n                        username={user.username}\n                        fullName={user.fullName}\n                        photo={user.photo}\n                        title={user.title}\n                        bio={user.bio}\n                    />\n                ));\n            if (users.length > 0) {\n                return users;\n            } else {\n                return notFound;\n            }\n        } else if (selectedFilter === 'username') {\n            const users = results\n                .filter(\n                    (user) =>\n                        user.username.includes(searchKeyword.toLowerCase()) ||\n                        user.fullName.toLowerCase().includes(searchKeyword.toLowerCase())\n                )\n                .map((user, index) => (\n                    <Result\n                        key={index}\n                        username={user.username}\n                        fullName={user.fullName}\n                        photo={user.photo}\n                        title={user.title}\n                        bio={user.bio}\n                    />\n                ));\n            if (users.length > 0) {\n                return users;\n            } else {\n                return notFound;\n            }\n        } else if (selectedFilter === 'title') {\n            const users = results\n                .filter((user) => user.title.toLowerCase().includes(searchKeyword.toLowerCase()))\n                .map((user, index) => (\n                    <Result\n                        key={index}\n                        username={user.username}\n                        fullName={user.fullName}\n                        photo={user.photo}\n                        title={user.title}\n                        bio={user.bio}\n                    />\n                ));\n            if (users.length > 0) {\n                return users;\n            } else {\n                return notFound;\n            }\n        } else if (selectedFilter === 'bio') {\n            const users = results\n                .filter((user) => user.bio.toLowerCase().includes(searchKeyword.toLowerCase()))\n                .map((user, index) => (\n                    <Result\n                        key={index}\n                        username={user.username}\n                        fullName={user.fullName}\n                        photo={user.photo}\n                        title={user.title}\n                        bio={user.bio}\n                    />\n                ));\n            if (users.length > 0) {\n                return users;\n            } else {\n                return notFound;\n            }\n        }\n    };\n\n    // useEffect(() => {\n    //     if (results) {\n    //         if (selectedFilter === 'all') {\n    //             const users = results.filter(\n    //                 (user) =>\n    //                     user.username.includes(searchKeyword) ||\n    //                     user.fullName.includes(searchKeyword) ||\n    //                     user.title.includes(searchKeyword) ||\n    //                     user.bio.includes(searchKeyword)\n    //             );\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'username') {\n    //             const users = results.filter(\n    //                 (user) => user.username.includes(searchKeyword) || user.fullName.includes(searchKeyword)\n    //             );\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'title') {\n    //             const users = results.filter((user) => user.title.includes(searchKeyword));\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'bio') {\n    //             const users = results.filter((user) => user.bio.includes(searchKeyword));\n    //             setFilteredResults(users);\n    //         }\n    //     } else {\n    //         return null;\n    //     }\n    // }, [selectedFilter]);\n\n    // console.log(filteredResults);\n\n    // const getFilteredResults = () => {\n    //     if (selectedFilter === 'all') {\n    //         const users = results.filter(\n    //             (user) =>\n    //                 user.username.includes(searchKeyword) ||\n    //                 user.fullName.includes(searchKeyword) ||\n    //                 user.title.includes(searchKeyword) ||\n    //                 user.bio.includes(searchKeyword)\n    //         );\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'username') {\n    //         const users = results.filter(\n    //             (user) => user.username.includes(searchKeyword) || user.fullName.includes(searchKeyword)\n    //         );\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'title') {\n    //         const users = results.filter((user) => user.title.includes(searchKeyword));\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'bio') {\n    //         const users = results.filter((user) => user.bio.includes(searchKeyword));\n    //         setFilteredResults(users);\n    //     }\n    // };\n\n    return !results ? null : getFilteredResults();\n}\n\nResults.propTypes = {\n    results: PropTypes.array,\n    selectedFilter: PropTypes.string.isRequired,\n    searchKeyword: PropTypes.string.isRequired,\n};\n","import React, { useState } from 'react';\nimport { categories } from '../../lib/categories';\nimport Results from './Results';\nimport { getSearchResults } from '../../services/firebase';\n\nexport default function SearchIndex() {\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [selectedFilter, setSelectedFilter] = useState('all');\n    const [results, setResults] = useState(null);\n    const [displayFilterButtons, setDisplayFilterButtons] = useState(false);\n\n    console.log(selectedCategory);\n\n    const isInvalid = searchKeyword === '' || selectedCategory === '';\n\n    const searchHandle = async (event) => {\n        event.preventDefault();\n        const result = await getSearchResults(selectedCategory);\n        setResults(result);\n        setDisplayFilterButtons(true);\n    };\n\n    return (\n        <div className=\"col-span-2 container\">\n            <div>\n                <form className=\"grid grid-cols-7 items-center\" onSubmit={searchHandle}>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        className=\"bg-gray-light p-1 h-10 text-sm rounded-l border-r border-gray-primary col-span-4\"\n                        value={searchKeyword}\n                        onChange={({ target }) => setSearchKeyword(target.value)}\n                    />\n                    <select\n                        className=\"bg-gray-light p-1 h-10 text-sm text-gray-dark col-span-2 capitalize\"\n                        onChange={({ target }) => setSelectedCategory(target.value)}\n                        value={selectedCategory}\n                    >\n                        <option hidden value=\"\">\n                            Category\n                        </option>\n                        {categories.sort().map((category, index) => (\n                            <option key={index} value={category}>\n                                {category}\n                            </option>\n                        ))}\n                        <option value=\"others\">Others</option>\n                    </select>\n                    <button\n                        type=\"submit\"\n                        className={`bg-gray-dark text-gray-light h-10 p-1 text-sm rounded-r ${\n                            isInvalid && 'opacity-50'\n                        }`}\n                        disabled={isInvalid}\n                    >\n                        Search\n                    </button>\n                </form>\n            </div>\n            <div className={`flex justify-evenly text-gray-light h-10 mt-4 mb-8 ${!displayFilterButtons && 'hidden'}`}>\n                <button\n                    type=\"button\"\n                    className={`px-4 font-bold ${selectedFilter === 'all' && 'border-b  border-yellow-primary '}`}\n                    value=\"all\"\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    All\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"username\"\n                    className={`px-4 ${selectedFilter === 'username' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Username\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"title\"\n                    className={`px-4 ${selectedFilter === 'title' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Title\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"bio\"\n                    className={`px-4 ${selectedFilter === 'bio' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Bio\n                </button>\n            </div>\n            <Results results={results} selectedFilter={selectedFilter} searchKeyword={searchKeyword} />\n        </div>\n    );\n}\n","import React from 'react';\nimport Header from '../components/Header';\nimport SideProfile from '../components/SideProfile';\nimport SearchIndex from '../components/search';\n\nexport default function Search() {\n    return (\n        <div className=\"font-body\">\n            <Header />\n            <div className=\"w-sceen flex justify-center pt-24\">\n                <div className=\"grid grid-cols-3 w-full max-w-screen-lg mx-4\">\n                    <SearchIndex />\n                    <SideProfile />\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { firebase, FieldValue } from '../lib/firebase';\nimport Axios from 'axios';\n\nexport async function doesUsernameExist(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    console.log(result.docs.length > 0);\n    return result.docs.length > 0;\n}\n\nexport async function getUserByUserId(userId) {\n    const result = await firebase.firestore().collection('users').where('userId', '==', userId).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function getUserByUsername(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function IsUserFollowingProfileUser(username, profileUserId) {\n    const result = await firebase\n        .firestore()\n        .collection('users')\n        .where('username', '==', username)\n        .where('following', 'array-contains', profileUserId)\n        .get();\n    const [response = {}] = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return response.userId;\n    // if (user.following.includes(profileUserId)) {\n    //     return true;\n    // } else {\n    //     return false;\n    // }\n}\n\nexport async function getFollowingPhotosByUserId(following, userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', 'in', following).get();\n    const userFollowedPhotos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    const userFollowedPhotosWithDetails = await Promise.all(\n        userFollowedPhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.likes.includes(userId)) {\n                userLikedPhoto = true;\n            }\n            const [userInfo] = await getUserByUserId(photo.userId);\n            const { username } = userInfo;\n            return {\n                username,\n                ...photo,\n                userLikedPhoto,\n            };\n        })\n    );\n    return userFollowedPhotosWithDetails;\n}\n\nexport async function getPhotosbyUserId(userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', '==', userId).get();\n    const photos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    return photos;\n}\n\nexport async function updateUserFollowing(userDocId, profileUserId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(userDocId)\n        .update({\n            following: isUserFollowing ? FieldValue.arrayRemove(profileUserId) : FieldValue.arrayUnion(profileUserId),\n        });\n}\n\nexport async function updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(profileUserDocId)\n        .update({\n            followers: isUserFollowing ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId),\n        });\n}\n\nexport async function toggleFollow(userDocId, userId, profileUserDocId, profileUserId, isUserFollowing) {\n    await updateUserFollowing(userDocId, profileUserId, isUserFollowing);\n    await updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing);\n}\n\n// export async function updateProfile(docId, fullName, category, title, bio) {\n//     firebase.firestore().collection('users').doc(docId).update({\n//         fullName,\n//         category,\n//         title,\n//         bio,\n//     });\n// }\n\nexport async function getFollowingOrFollowersList(userIds) {\n    const result = await Promise.all(\n        userIds.map(async (userId) => {\n            const [userList] = await getUserByUserId(userId);\n            console.log('userList', userList);\n            return userList;\n        })\n    );\n    console.log('result', result);\n    return result;\n}\n\nexport async function getSearchResults(category) {\n    const result = await firebase.firestore().collection('users').where('category', '==', category).get();\n    const users = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    console.log(users);\n    return users;\n}\n\nexport async function updateProfilePhoto(imageFile) {\n    let url = '';\n    const formData = new FormData();\n    formData.append('file', imageFile[0]);\n    formData.append('upload_preset', 's4onxndn');\n    formData.append('cloud_name', 'test');\n\n    Axios.post('https://api.cloudinary.com/v1_1/dvhwserkv/image/upload', formData)\n        // .then((response) => console.log('response', response))\n        .then(({ data }) => {\n            console.log(JSON.stringify(data.secure_url));\n            url = JSON.stringify(data.secure_url);\n            console.log('url', url);\n        });\n    return url;\n}\n\nexport async function updateProfile(docId, fullName, category, title, bio, imageFile) {\n    if (imageFile) {\n        let url = '';\n        const formData = new FormData();\n        formData.append('file', imageFile[0]);\n        formData.append('upload_preset', 's4onxndn');\n        formData.append('cloud_name', 'test');\n\n        await Axios.post('https://api.cloudinary.com/v1_1/dvhwserkv/image/upload', formData)\n            // .then((response) => console.log('response', response))\n            .then(({ data }) => {\n                // console.log(JSON.stringify(data.secure_url));\n                url = data.secure_url;\n                console.log('url', url);\n            });\n\n        firebase.firestore().collection('users').doc(docId).update({\n            fullName,\n            category,\n            title,\n            bio,\n            photo: url,\n        });\n    } else {\n        firebase.firestore().collection('users').doc(docId).update({\n            fullName,\n            category,\n            title,\n            bio,\n        });\n    }\n}\n// s4onxndn\n","import { useContext, useState, useEffect } from 'react';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function useUser() {\n    const { user } = useContext(UserContext);\n    const [activeUser, setActiveUser] = useState({});\n\n    useEffect(() => {\n        async function getUserInfoByUserId() {\n            const [result] = await getUserByUserId(user.uid);\n            setActiveUser(result);\n        }\n        if (user?.uid) {\n            getUserInfoByUserId();\n        }\n    }, [user]);\n    return { userInfo: activeUser };\n}\n","export default __webpack_public_path__ + \"static/media/logo.6dc95425.png\";","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logo from '../images/logo.png';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport UserContext from '../context/user';\nimport FirebaseContext from '../context/firebase';\nimport { getUserByUserId } from '../services/firebase';\nimport useUser from '../hooks/useUser';\n\nexport default function Header() {\n    // const [userInfo, setUserInfo] = useState('');\n    const { user } = useContext(UserContext);\n    const { firebase } = useContext(FirebaseContext);\n    const history = useHistory();\n    const handleSignOut = () => {\n        firebase.auth().signOut();\n        history.push(ROUTES.LOGIN);\n    };\n\n    const { userInfo } = useUser();\n\n    // useEffect(() => {\n    //     const getUserInfo = async () => {\n    //         const [result] = await getUserByUserId(user.uid);\n    //         setUserInfo(result);\n    //     };\n    //     if (user?.uid) {\n    //         getUserInfo();\n    //     }\n    // }, [user]);\n\n    return (\n        <div className=\"bg-gray-dark w-screen h-14 flex justify-center items-center fixed z-50\">\n            <div className=\"max-w-screen-xl w-screen h-14 flex justify-between items-center\">\n                <Link to={ROUTES.DASHBOARD}>\n                    <h1 className=\"h-14 flex\">\n                        <img src={logo} alt=\"artisto\" />\n                    </h1>\n                </Link>\n                <div className=\"flex flex-row items-center\">\n                    <div className=\"pr-4\">\n                        <Link to={ROUTES.SEARCH}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-8 w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"pr-4\">\n                        <Link to={ROUTES.MESSAGES}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-8 w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"flex h-14 items-center pr-4\">\n                        <Link to={`/p/${userInfo.username}`}>\n                            <img src={userInfo.photo} className=\"h-10 w-10 rounded-full\" />\n                        </Link>\n                    </div>\n                    <div className=\"pr-4 cursor-pointer\" onClick={handleSignOut}>\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-8 w-8 text-gray-light\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                        >\n                            <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth=\"2\"\n                                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                            />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nHeader.propTypes = {\n    userInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n    }),\n};\n","export const categories = ['web design', 'video game', 'animation', 'graphic design', 'painting', 'illustration'];\n","import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\nimport { Link } from 'react-router-dom';\nimport useUser from '../hooks/useUser';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nexport default function SideProfile() {\n    // const [userInfo, setUserInfo] = useState({});\n    // const { user } = useContext(UserContext);\n    // useEffect(() => {\n    //     document.title = 'Artisto';\n    // }, []);\n\n    // useEffect(() => {\n    //     const getUserInfo = async () => {\n    //         const [result] = await getUserByUserId(user.uid);\n    //         setUserInfo(result);\n    //         console.log('result', result);\n    //     };\n    //     if (user) {\n    //         getUserInfo();\n    //     }\n    // }, [user]);\n\n    const { userInfo } = useUser();\n\n    return (\n        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n            <div className=\"flex pt-4 justify-center\">\n                <div className=\"mx-auto justify-center flex-col w-full sticky top-0 max-h-screen pt-20\">\n                    <div className=\"flex justify-center\">\n                        <Link to={`/p/${userInfo.username}`}>\n                            {!userInfo.photo ? (\n                                <Skeleton width={144} height={144} circle={true} />\n                            ) : (\n                                <img src={userInfo.photo} className=\"w-36 rounded-full\" />\n                            )}\n                        </Link>\n                    </div>\n                    {!userInfo.fullName ? (\n                        <div className=\"flex justify-center flex-col items-center mt-4\">\n                            <Skeleton width={180} height={200} />\n                        </div>\n                    ) : (\n                        <>\n                            <div className=\"flex justify-center flex-col items-center\">\n                                <p className=\"font-bold mt-4 text-gray-light\">{userInfo.fullName}</p>\n                                <p className=\"text-sm text-gray-light\">\n                                    <span className=\"text-xs\">ID: </span>\n                                    {userInfo.username}\n                                </p>\n                                <p className=\"text-sm mt-4 text-gray-light\">{userInfo.title}</p>\n                                <p className=\"mt-2 text-sm text-gray-light\">\n                                    <span className=\"text-xs \">Category: </span>\n                                    {userInfo.category}\n                                </p>\n                            </div>\n                            <div className=\"mt-2 px-20\">\n                                <p className=\"text-sm text-gray-light\">Bio:</p>\n                                <p className=\"text-xs w-full break-words text-gray-light\">{userInfo.bio}</p>\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        </SkeletonTheme>\n    );\n}\n\nSideProfile.propTypes = {\n    userInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n        bio: PropTypes.string,\n    }),\n};\n"],"sourceRoot":""}