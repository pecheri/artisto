{"version":3,"sources":["components/search/Result.js","components/search/Results.js","components/search/index.js","pages/Search.js","services/firebase.js","images/logo.png","components/Header.js","hooks/useUser.js","lib/categories.js","components/SideProfile.js"],"names":["Result","username","fullName","photo","title","bio","className","to","src","alt","length","substr","Results","results","selectedFilter","fixedSearchKeyword","searchKeyword","notFound","userId","useUser","userInfo","resultsWithoutUser","filter","item","users","map","user","index","includes","toLowerCase","getFilteredResults","propTypes","PropTypes","array","string","isRequired","SearchIndex","useState","setSearchKeyword","setFixedSearchKeyword","selectedCategory","setSelectedCategory","setSelectedFilter","setResults","displayFilterButtons","setDisplayFilterButtons","suggestedUsers","setSuggestedUsers","isInvalid","searchHandle","event","a","preventDefault","getSearchResults","result","onSubmit","type","placeholder","value","onChange","target","hidden","categories","sort","category","disabled","onClick","Search","useEffect","document","Header","SideProfile","cloudName","process","presets","doesUsernameExist","firebase","firestore","collection","where","get","docs","getUserByUserId","data","docId","id","getUserByUsername","IsUserFollowingProfileUser","profileUserId","response","getFollowingPhotosByUserId","following","userFollowedPhotos","Promise","all","userLikedPhoto","likes","userFollowedPhotosWithDetails","getLatestPhotoInfo","photoId","profileUsername","photoWithDetails","getProfilePhotosbyUserId","profileId","profilePhotos","profilePhotosWithDetails","updateUserFollowing","userDocId","isUserFollowing","doc","update","FieldValue","arrayRemove","arrayUnion","updateProfileUserFollowers","profileUserDocId","followers","toggleFollow","getFollowingOrFollowersList","userIds","userList","limit","updateProfile","imageFile","setUpload","url","formData","FormData","append","Axios","post","then","secure_url","alert","message","uploadNewPost","caption","add","comments","dateCreated","Date","now","imageSrc","userLatitude","userLongitude","setUserInfo","useContext","UserContext","uid","FirebaseContext","history","useHistory","getUserInfo","ROUTES","logo","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","auth","signOut","push","activeUser","setActiveUser","getUserInfoByUserId","color","highlightColor","width","height","circle"],"mappings":"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","file":"static/js/7.47fcafbc.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default function Result({ username, fullName, photo, title, bio }) {\n    return (\n        <div className=\"w-full mx-auto text-gray-light mb-8\">\n            <div className=\"grid grid-cols-6 items-center\">\n                <div className=\"flex justify-end\">\n                    <Link to={`/p/${username}`}>\n                        <img\n                            src={photo}\n                            alt={`${username} profile photo`}\n                            className=\"sm:w-16 sm:h-16 w-12 h-12 rounded-full object-cover\"\n                        />\n                    </Link>\n                </div>\n                <div className=\"ml-6 col-span-5\">\n                    <Link to={`/p/${username}`}>\n                        <p className=\"sm:text-lg text-base\">{fullName}</p>\n                    </Link>\n                    <p className=\"text-sm\">\n                        <span className=\"text-xs\">ID: </span>\n                        {username}\n                    </p>\n                    <p className=\"text-sm pt-2\">{title}</p>\n                    <p className=\"text-xs break-words w-full max-w-md\">\n                        <span className=\"text-sm\">Bio: </span>\n                        {bio.length > 100 ? `${bio.substr(0, 100)}...` : bio}\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nResult.propTypes = {\n    username: PropTypes.string.isRequired,\n    fullName: PropTypes.string.isRequired,\n    photo: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    bio: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Result from './Result';\nimport useUser from '../../hooks/useUser';\n\nexport default function Results({ results, selectedFilter, searchKeyword, fixedSearchKeyword }) {\n    const notFound = (\n        <div className=\"w-full\">\n            <p className=\"text-center text-gray-light\">No Results</p>\n        </div>\n    );\n\n    const {\n        userInfo: { userId },\n    } = useUser();\n\n    const getFilteredResults = () => {\n        const resultsWithoutUser = results.filter((item) => userId !== item.userId);\n        if (!fixedSearchKeyword) {\n            const users = resultsWithoutUser.map((user, index) => (\n                <Result\n                    key={index}\n                    username={user.username}\n                    fullName={user.fullName}\n                    photo={user.photo}\n                    title={user.title}\n                    bio={user.bio}\n                />\n            ));\n            if (users.length > 0) {\n                return users;\n            } else {\n                return notFound;\n            }\n        } else {\n            if (selectedFilter === 'all') {\n                const users = resultsWithoutUser\n                    .filter(\n                        (user) =>\n                            user.username.includes(fixedSearchKeyword.toLowerCase()) ||\n                            user.fullName.toLowerCase().includes(fixedSearchKeyword.toLowerCase()) ||\n                            user.title.includes(fixedSearchKeyword.toLowerCase()) ||\n                            user.bio.includes(fixedSearchKeyword.toLowerCase())\n                    )\n                    .map((user, index) => (\n                        <Result\n                            key={index}\n                            username={user.username}\n                            fullName={user.fullName}\n                            photo={user.photo}\n                            title={user.title}\n                            bio={user.bio}\n                        />\n                    ));\n                if (users.length > 0) {\n                    return users;\n                } else {\n                    return notFound;\n                }\n            } else if (selectedFilter === 'username') {\n                const users = resultsWithoutUser\n                    .filter(\n                        (user) =>\n                            user.username.includes(fixedSearchKeyword.toLowerCase()) ||\n                            user.fullName.toLowerCase().includes(fixedSearchKeyword.toLowerCase())\n                    )\n                    .map((user, index) => (\n                        <Result\n                            key={index}\n                            username={user.username}\n                            fullName={user.fullName}\n                            photo={user.photo}\n                            title={user.title}\n                            bio={user.bio}\n                        />\n                    ));\n                if (users.length > 0) {\n                    return users;\n                } else {\n                    return notFound;\n                }\n            } else if (selectedFilter === 'title') {\n                const users = resultsWithoutUser\n                    .filter((user) => user.title.toLowerCase().includes(fixedSearchKeyword.toLowerCase()))\n                    .map((user, index) => (\n                        <Result\n                            key={index}\n                            username={user.username}\n                            fullName={user.fullName}\n                            photo={user.photo}\n                            title={user.title}\n                            bio={user.bio}\n                        />\n                    ));\n                if (users.length > 0) {\n                    return users;\n                } else {\n                    return notFound;\n                }\n            } else if (selectedFilter === 'bio') {\n                const users = resultsWithoutUser\n                    .filter((user) => user.bio.toLowerCase().includes(fixedSearchKeyword.toLowerCase()))\n                    .map((user, index) => (\n                        <Result\n                            key={index}\n                            username={user.username}\n                            fullName={user.fullName}\n                            photo={user.photo}\n                            title={user.title}\n                            bio={user.bio}\n                        />\n                    ));\n                if (users.length > 0) {\n                    return users;\n                } else {\n                    return notFound;\n                }\n            }\n        }\n    };\n\n    // useEffect(() => {\n    //     if (results) {\n    //         if (selectedFilter === 'all') {\n    //             const users = results.filter(\n    //                 (user) =>\n    //                     user.username.includes(searchKeyword) ||\n    //                     user.fullName.includes(searchKeyword) ||\n    //                     user.title.includes(searchKeyword) ||\n    //                     user.bio.includes(searchKeyword)\n    //             );\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'username') {\n    //             const users = results.filter(\n    //                 (user) => user.username.includes(searchKeyword) || user.fullName.includes(searchKeyword)\n    //             );\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'title') {\n    //             const users = results.filter((user) => user.title.includes(searchKeyword));\n    //             setFilteredResults(users);\n    //         } else if (selectedFilter === 'bio') {\n    //             const users = results.filter((user) => user.bio.includes(searchKeyword));\n    //             setFilteredResults(users);\n    //         }\n    //     } else {\n    //         return null;\n    //     }\n    // }, [selectedFilter]);\n\n    // console.log(filteredResults);\n\n    // const getFilteredResults = () => {\n    //     if (selectedFilter === 'all') {\n    //         const users = results.filter(\n    //             (user) =>\n    //                 user.username.includes(searchKeyword) ||\n    //                 user.fullName.includes(searchKeyword) ||\n    //                 user.title.includes(searchKeyword) ||\n    //                 user.bio.includes(searchKeyword)\n    //         );\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'username') {\n    //         const users = results.filter(\n    //             (user) => user.username.includes(searchKeyword) || user.fullName.includes(searchKeyword)\n    //         );\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'title') {\n    //         const users = results.filter((user) => user.title.includes(searchKeyword));\n    //         setFilteredResults(users);\n    //     } else if (selectedFilter === 'bio') {\n    //         const users = results.filter((user) => user.bio.includes(searchKeyword));\n    //         setFilteredResults(users);\n    //     }\n    // };\n\n    return !results ? null : getFilteredResults();\n}\n\nResults.propTypes = {\n    results: PropTypes.array,\n    selectedFilter: PropTypes.string.isRequired,\n    searchKeyword: PropTypes.string.isRequired,\n    fixedSearchKeyword: PropTypes.string.isRequired,\n};\n","import React, { useState } from 'react';\nimport { categories } from '../../lib/categories';\nimport Results from './Results';\nimport { getSearchResults } from '../../services/firebase';\n\nexport default function SearchIndex() {\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [fixedSearchKeyword, setFixedSearchKeyword] = useState('');\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [selectedFilter, setSelectedFilter] = useState('all');\n    const [results, setResults] = useState(null);\n    const [displayFilterButtons, setDisplayFilterButtons] = useState(false);\n    const [suggestedUsers, setSuggestedUsers] = useState(false);\n\n    const isInvalid = selectedCategory === '';\n\n    const searchHandle = async (event) => {\n        event.preventDefault();\n        setSelectedFilter('all');\n        const result = await getSearchResults(selectedCategory);\n        setResults(result);\n        setFixedSearchKeyword(searchKeyword);\n        if (searchKeyword) {\n            setDisplayFilterButtons(true);\n            setSuggestedUsers(false);\n        } else {\n            setDisplayFilterButtons(false);\n            setSuggestedUsers(true);\n        }\n    };\n\n    return (\n        <div className=\"md:col-span-2 col-span-3 container mx-auto\">\n            <div>\n                <form className=\"grid grid-cols-3 sm:grid-cols-7 items-center\" onSubmit={searchHandle}>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        className=\"bg-gray-light p-1 h-10 text-base rounded sm:rounded-none sm:rounded-l border-r border-gray-primary sm:col-span-4 col-span-3\"\n                        value={searchKeyword}\n                        onChange={({ target }) => setSearchKeyword(target.value)}\n                    />\n                    <select\n                        className=\"bg-gray-light p-1 h-10 text-sm text-gray-dark col-span-2 capitalize mt-2 mr-2 sm:mt-0 sm:mr-0 rounded-none\"\n                        onChange={({ target }) => setSelectedCategory(target.value)}\n                        value={selectedCategory}\n                    >\n                        <option hidden value=\"\">\n                            Category\n                        </option>\n                        {categories.sort().map((category, index) => (\n                            <option key={index} value={category}>\n                                {category}\n                            </option>\n                        ))}\n                        <option value=\"others\">Others</option>\n                    </select>\n                    <button\n                        type=\"submit\"\n                        className={`bg-gray-dark text-gray-light h-10 p-1 text-sm rounded sm:rounded-none sm:rounded-r mt-2 sm:mt-0 ${\n                            isInvalid && 'opacity-50'\n                        }`}\n                        disabled={isInvalid}\n                    >\n                        Search\n                    </button>\n                </form>\n            </div>\n            <div className={`flex justify-evenly text-gray-light h-10 mt-4 mb-8 ${!displayFilterButtons && 'hidden'}`}>\n                <button\n                    type=\"button\"\n                    className={`px-4 font-bold ${selectedFilter === 'all' && 'border-b  border-yellow-primary '}`}\n                    value=\"all\"\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    All\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"username\"\n                    className={`px-4 ${selectedFilter === 'username' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Username\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"title\"\n                    className={`px-4 ${selectedFilter === 'title' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Title\n                </button>\n                <button\n                    type=\"button\"\n                    value=\"bio\"\n                    className={`px-4 ${selectedFilter === 'bio' && 'border-b  border-yellow-primary '}`}\n                    onClick={({ target }) => setSelectedFilter(target.value)}\n                >\n                    Bio\n                </button>\n            </div>\n            <div className={`flex items-center text-gray-light h-10 mt-4 mb-8 ml-4 ${!suggestedUsers && 'hidden'}`}>\n                <p className=\"h-10 leading-10 border-b border-yellow-primary px-4\">Suggested Users</p>\n            </div>\n            <Results\n                results={results}\n                selectedFilter={selectedFilter}\n                searchKeyword={searchKeyword}\n                fixedSearchKeyword={fixedSearchKeyword}\n            />\n        </div>\n    );\n}\n","import React, { useEffect } from 'react';\nimport Header from '../components/Header';\nimport SideProfile from '../components/SideProfile';\nimport SearchIndex from '../components/search';\n\nexport default function Search() {\n    useEffect(() => {\n        document.title = 'Search - Artisto';\n    }, []);\n\n    return (\n        <div className=\"font-body\">\n            <Header />\n            <div className=\"w-sceen flex justify-center pt-24\">\n                <div className=\"grid grid-cols-3 w-full max-w-screen-lg mx-4\">\n                    <SearchIndex />\n                    <SideProfile />\n                </div>\n            </div>\n        </div>\n    );\n}\n","import { firebase, FieldValue } from '../lib/firebase';\nimport Axios from 'axios';\nconst cloudName = `${process.env.REACT_APP_CLOUD_NAME}`;\nconst presets = `${process.env.REACT_APP_PRESETS}`;\n\nexport async function doesUsernameExist(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    return result.docs.length > 0;\n}\n\nexport async function getUserByUserId(userId) {\n    const result = await firebase.firestore().collection('users').where('userId', '==', userId).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function getUserByUsername(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function IsUserFollowingProfileUser(username, profileUserId) {\n    const result = await firebase\n        .firestore()\n        .collection('users')\n        .where('username', '==', username)\n        .where('following', 'array-contains', profileUserId)\n        .get();\n    const [response = {}] = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return response.userId;\n    // if (user.following.includes(profileUserId)) {\n    //     return true;\n    // } else {\n    //     return false;\n    // }\n}\n\nexport async function getFollowingPhotosByUserId(following, userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', 'in', following).get();\n    const userFollowedPhotos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    const userFollowedPhotosWithDetails = await Promise.all(\n        userFollowedPhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.likes.includes(userId)) {\n                userLikedPhoto = true;\n            }\n            const [userInfo] = await getUserByUserId(photo.userId);\n            const { username } = userInfo;\n            return {\n                username,\n                ...photo,\n                userLikedPhoto,\n            };\n        })\n    );\n    return userFollowedPhotosWithDetails;\n}\n\nexport async function getPhotosbyUserId(userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', '==', userId).get();\n    const photos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    return photos;\n}\n\nexport async function getLatestPhotoInfo(photoId, userId, profileUsername) {\n    const result = await firebase.firestore().collection('photos').where('photoId', '==', photoId).get();\n    const [photoWithDetails] = await result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    let userLikedPhoto = false;\n    if (photoWithDetails.likes.includes(userId)) {\n        userLikedPhoto = true;\n    }\n    return { ...photoWithDetails, userLikedPhoto, username: profileUsername };\n}\n\nexport async function getProfilePhotosbyUserId(userId, profileId, profileUsername) {\n    const result = await firebase.firestore().collection('photos').where('userId', '==', profileId).get();\n    const profilePhotos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    const profilePhotosWithDetails = await Promise.all(\n        profilePhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.likes.includes(userId)) {\n                userLikedPhoto = true;\n            }\n            return {\n                username: profileUsername,\n                ...photo,\n                userLikedPhoto,\n            };\n        })\n    );\n    return profilePhotosWithDetails;\n}\n\nexport async function updateUserFollowing(userDocId, profileUserId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(userDocId)\n        .update({\n            following: isUserFollowing ? FieldValue.arrayRemove(profileUserId) : FieldValue.arrayUnion(profileUserId),\n        });\n}\n\nexport async function updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(profileUserDocId)\n        .update({\n            followers: isUserFollowing ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId),\n        });\n}\n\nexport async function toggleFollow(userDocId, userId, profileUserDocId, profileUserId, isUserFollowing) {\n    await updateUserFollowing(userDocId, profileUserId, isUserFollowing);\n    await updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing);\n}\n\nexport async function getFollowingOrFollowersList(userIds) {\n    const result = await Promise.all(\n        userIds.map(async (userId) => {\n            const [userList] = await getUserByUserId(userId);\n            return userList;\n        })\n    );\n    return result;\n}\n\nexport async function getSearchResults(category, searchKeyword) {\n    if (searchKeyword) {\n        const result = await firebase.firestore().collection('users').where('category', '==', category).get();\n        const users = result.docs.map((item) => ({\n            ...item.data(),\n            docId: item.id,\n        }));\n        return users;\n    } else {\n        const result = await firebase.firestore().collection('users').limit(10).where('category', '==', category).get();\n        const users = result.docs.map((item) => ({\n            ...item.data(),\n            docId: item.id,\n        }));\n        return users;\n    }\n}\n\n// export async function getSearchResults(category) {\n//     const result = await firebase.firestore().collection('users').where('category', '==', category).get();\n//     const users = result.docs.map((item) => ({\n//         ...item.data(),\n//         docId: item.id,\n//     }));\n//     return users;\n// }\n\nexport async function updateProfilePhoto(imageFile) {\n    let url = '';\n    const formData = new FormData();\n    formData.append('file', imageFile[0]);\n    formData.append('upload_preset', presets);\n    formData.append('cloud_name', 'test');\n\n    Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n        url = JSON.stringify(data.secure_url);\n    });\n    return url;\n}\n\nexport async function updateProfile(docId, fullName, category, title, bio, imageFile, setUpload) {\n    setUpload(true);\n\n    if (imageFile) {\n        let url = '';\n        const formData = new FormData();\n        formData.append('file', imageFile[0]);\n        formData.append('upload_preset', presets);\n\n        try {\n            await Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n                url = data.secure_url;\n            });\n\n            await firebase.firestore().collection('users').doc(docId).update({\n                fullName,\n                category,\n                title,\n                bio,\n                photo: url,\n            });\n\n            setUpload(false);\n        } catch (error) {\n            setUpload(false);\n            alert(error.message);\n        }\n    } else {\n        await firebase.firestore().collection('users').doc(docId).update({\n            fullName,\n            category,\n            title,\n            bio,\n        });\n        setUpload(false);\n    }\n}\n\nexport async function uploadNewPost(caption, imageFile, userId, setUpload) {\n    let url = '';\n    const formData = new FormData();\n    formData.append('file', imageFile[0]);\n    formData.append('upload_preset', presets);\n\n    setUpload(true);\n\n    try {\n        await Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n            url = data.secure_url;\n        });\n\n        await firebase\n            .firestore()\n            .collection('photos')\n            .add({\n                caption,\n                comments: [],\n                dateCreated: Date.now(),\n                imageSrc: url,\n                likes: [],\n                photoId: userId + Date.now(),\n                userId,\n                userLatitude: 34.0522,\n                userLongitude: -188.2437,\n            });\n\n        setUpload(false);\n    } catch (error) {\n        setUpload(false);\n        alert(error.message);\n    }\n}\n","export default __webpack_public_path__ + \"static/media/logo.6dc95425.png\";","import React, { useContext, useEffect, useState } from 'react';\nimport logo from '../images/logo.png';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport UserContext from '../context/user';\nimport FirebaseContext from '../context/firebase';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function Header() {\n    const [userInfo, setUserInfo] = useState('');\n    const {\n        user: { uid: userId },\n    } = useContext(UserContext);\n\n    const { firebase } = useContext(FirebaseContext);\n    const history = useHistory();\n    const handleSignOut = () => {\n        firebase.auth().signOut();\n        history.push(ROUTES.LOGIN);\n    };\n\n    useEffect(() => {\n        let result = null;\n        const getUserInfo = async () => {\n            while (!result) {\n                [result] = await getUserByUserId(userId);\n                setUserInfo(result);\n            }\n        };\n        if (userId) {\n            getUserInfo();\n        }\n    }, [userId]);\n\n    return userInfo ? (\n        <div className=\"bg-gray-dark w-screen h-14 flex justify-center items-center fixed z-50 top-0 left-0\">\n            <div className=\"max-w-screen-xl w-full h-14 flex justify-between items-center\">\n                <Link to={ROUTES.DASHBOARD}>\n                    <h1 className=\"flex sm:h-14 sm:w-auto w-28\">\n                        <img src={logo} alt=\"artisto\" className=\"sm:h-full sm:w-auto w-full h-auto\" />\n                    </h1>\n                </Link>\n                <div className=\"flex flex-row items-center\">\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.UPLOAD_IMAGE}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.SEARCH}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.MESSAGES}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"flex h-14 items-center pr-2 sm:pr-4\">\n                        <Link to={`/p/${userInfo?.username}`}>\n                            <img src={userInfo?.photo} className=\"h-5 w-5 sm:h-10 sm:w-10 rounded-full object-cover\" />\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4 cursor-pointer\" onClick={handleSignOut}>\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                        >\n                            <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth=\"2\"\n                                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                            />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ) : null;\n}\n\n// Header.propTypes = {\n//     userInfo: PropTypes.shape({\n//         dateCreated: PropTypes.number,\n//         email: PropTypes.string,\n//         followers: PropTypes.array,\n//         following: PropTypes.array,\n//         fullName: PropTypes.string,\n//         userId: PropTypes.string,\n//         username: PropTypes.string,\n//         category: PropTypes.string,\n//         photo: PropTypes.string,\n//         title: PropTypes.string,\n//     }),\n// };\n","import { useContext, useState, useEffect } from 'react';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function useUser() {\n    const { user } = useContext(UserContext);\n    const [activeUser, setActiveUser] = useState({});\n\n    useEffect(() => {\n        async function getUserInfoByUserId() {\n            const [result] = await getUserByUserId(user.uid);\n            setActiveUser(result);\n        }\n        if (user?.uid) {\n            getUserInfoByUserId();\n        }\n    }, [user]);\n    return { userInfo: activeUser };\n}\n","export const categories = ['web design', 'video game', 'animation', 'graphic design', 'painting', 'illustration'];\n","import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\nimport { Link } from 'react-router-dom';\nimport useUser from '../hooks/useUser';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nexport default function SideProfile() {\n    const [userInfo, setUserInfo] = useState({});\n    const {\n        user: { uid: userId },\n    } = useContext(UserContext);\n\n    useEffect(() => {\n        document.title = 'Artisto';\n    }, []);\n\n    useEffect(() => {\n        let result = null;\n        const getUserInfo = async () => {\n            while (!result) {\n                [result] = await getUserByUserId(userId);\n                setUserInfo(result);\n            }\n        };\n        if (userId) {\n            getUserInfo();\n        }\n    }, [userId]);\n\n    // const { userInfo } = useUser();\n\n    return (\n        <div className=\"md:flex pt-4 justify-center hidden\">\n            <div className=\"mx-auto justify-center flex-col w-full sticky top-0 max-h-screen pt-20 max-w-xs\">\n                <div className=\"flex justify-center\">\n                    {!userInfo?.photo && !userInfo?.username ? (\n                        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n                            <Skeleton width={144} height={144} circle={true} />\n                        </SkeletonTheme>\n                    ) : (\n                        <Link to={`/p/${userInfo.username}`}>\n                            <img src={userInfo.photo} className=\"h-36 w-36 rounded-full object-cover\" />\n                        </Link>\n                    )}\n                </div>\n                {!userInfo?.username ? (\n                    <div className=\"flex justify-center flex-col items-center mt-4\">\n                        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n                            <Skeleton width={180} height={200} />\n                        </SkeletonTheme>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"flex justify-center flex-col items-center\">\n                            <p className=\"font-bold mt-4 text-gray-light\">{userInfo.fullName}</p>\n                            <p className=\"text-sm text-gray-light\">\n                                <span className=\"text-xs\">ID: </span>\n                                {userInfo.username}\n                            </p>\n                            <p className=\"text-sm mt-4 text-gray-light\">{userInfo.title}</p>\n                            <p className=\"mt-2 text-sm text-gray-light\">\n                                <span className=\"text-xs \">Category: </span>\n                                {userInfo.category}\n                            </p>\n                        </div>\n                        <div className=\"mt-2 max-w-sm p-4 mx-auto w-48 md:w-60\">\n                            <p className=\"text-sm text-gray-light\">Bio:</p>\n                            <p className=\"text-xs w-full break-words text-gray-light\">\n                                {userInfo.bio.length > 100 ? `${userInfo.bio.substr(0, 100)}...` : userInfo.bio}\n                            </p>\n                        </div>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n}\n\nSideProfile.propTypes = {\n    userInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n        bio: PropTypes.string,\n    }),\n};\n"],"sourceRoot":""}