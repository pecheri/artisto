{"version":3,"sources":["components/profile/FollowingFollowersUser.js","components/profile/FollowingFollwersList.js","components/profile/ProfileHeader.js","components/profile/ImageDetails.js","components/profile/Image.js","components/profile/Images.js","components/profile/index.js","pages/Profile.js"],"names":["FollowingFollowersUser","username","fullName","photo","setFollowingOrFollowers","className","to","onClick","src","FollowingFollwersList","following","followers","followingOrFollowers","useState","list","setList","useEffect","getFollowingList","a","getFollowingOrFollowersList","result","getFollowersList","map","item","index","count","ProfileHeader","profileUserInfo","photoCounts","useUser","userInfo","docId","userId","isUserFollowing","setIsUserFollowing","length","followersCount","setFollowersCount","history","useHistory","IsUserFollowingProfileUser","checkIfUsersFollowing","toggleUserFollow","prevState","toggleFollow","e","target","currentTarget","closeFollowingFollowersList","alt","push","category","title","bio","ImageDetails","profileUsername","photoWithDetails","setPhotoWithDetails","getLatestPhotoInfo","photoId","latestPhotoInfo","console","log","caption","date","dateCreated","Image","imageSrc","Action","likes","userLikedPhoto","comments","color","highlightColor","width","height","isImageClicked","setIsImageClicked","screenToggle","style","aspectRatio","closeImage","Images","photos","UserProfile","setPhotos","setPhotoCounts","getProfileUserPhotos","getPhotosbyUserId","sort","b","Profile","useParams","setProfileUserInfo","getUserByUsername","ROUTES","getProfileUserInfo","Header"],"mappings":"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","file":"static/js/15.cea76a17.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default function FollowingFollowersUser({ username, fullName, photo, setFollowingOrFollowers }) {\n    return (\n        <div className=\"p-2 flex mx-auto items-center\">\n            <Link to={`/p/${username}`} onClick={() => setFollowingOrFollowers()}>\n                <div>\n                    <img src={photo} className=\"h-10 w-10 rounded-full object-cover\" />\n                </div>\n            </Link>\n            <div className=\"pl-4\">\n                <Link to={`/p/${username}`} onClick={() => setFollowingOrFollowers()}>\n                    <p className=\"font-bold\">{fullName}</p>\n                </Link>\n                <p className=\"text-sm\">\n                    <span className=\"text-xs\">ID: </span>\n                    {username}\n                </p>\n            </div>\n        </div>\n    );\n}\n\nFollowingFollowersUser.propTypes = {\n    username: PropTypes.string.isRequired,\n    fullName: PropTypes.string.isRequired,\n    photo: PropTypes.string.isRequired,\n    setFollowingOrFollowers: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { getFollowingOrFollowersList } from '../../services/firebase';\nimport FollowingFollowersUser from './FollowingFollowersUser';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nexport default function FollowingFollwersList({ following, followers, followingOrFollowers, setFollowingOrFollowers }) {\n    const [list, setList] = useState([]);\n\n    useEffect(() => {\n        const getFollowingList = async () => {\n            const result = await getFollowingOrFollowersList(following);\n            setList(result);\n        };\n        const getFollowersList = async () => {\n            const result = await getFollowingOrFollowersList(followers);\n            setList(result);\n        };\n        if (followingOrFollowers === 'following') {\n            getFollowingList();\n        }\n        if (followingOrFollowers === 'followers') {\n            getFollowersList();\n        }\n    }, [followingOrFollowers]);\n    return (\n        <div className=\"bg-gray-light h-3/4 max-w-sm w-96 rounded text-gray-dark p-8\">\n            {list ? (\n                list.map((item, index) => (\n                    <FollowingFollowersUser\n                        key={index}\n                        username={item.username}\n                        fullName={item.fullName}\n                        photo={item.photo}\n                        setFollowingOrFollowers={setFollowingOrFollowers}\n                    />\n                ))\n            ) : (\n                <Skeleton count={4} className=\"w-full pb-4 h-1/4\" />\n            )}\n        </div>\n    );\n}\n\nFollowingFollwersList.propTypes = {\n    // profileUserInfo: PropTypes.shape({\n    //     dateCreated: PropTypes.number,\n    //     email: PropTypes.string,\n    //     followers: PropTypes.array,\n    //     following: PropTypes.array,\n    //     fullName: PropTypes.string,\n    //     userId: PropTypes.string,\n    //     username: PropTypes.string,\n    //     category: PropTypes.string,\n    //     photo: PropTypes.string,\n    //     title: PropTypes.string,\n    //     bio: PropTypes.string,\n    //     docId: PropTypes.string,\n    // }),\n    followingOrFollowers: PropTypes.string,\n    following: PropTypes.array,\n    followers: PropTypes.array,\n    setFollowingOrFollowers: PropTypes.func,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport useUser from '../../hooks/useUser';\nimport { IsUserFollowingProfileUser } from '../../services/firebase';\nimport { toggleFollow } from '../../services/firebase';\nimport { useHistory } from 'react-router-dom';\nimport FollowingFollwersList from './FollowingFollwersList';\n\nexport default function ProfileHeader({ profileUserInfo, photoCounts }) {\n    const {\n        userInfo: { username, docId, userId },\n    } = useUser();\n\n    const [isUserFollowing, setIsUserFollowing] = useState(null);\n    const [followersCount, setFollowersCount] = useState(profileUserInfo.followers.length);\n    const [followingOrFollowers, setFollowingOrFollowers] = useState(null);\n\n    const history = useHistory();\n\n    useEffect(() => {\n        const checkIfUsersFollowing = async () => {\n            const result = await IsUserFollowingProfileUser(username, profileUserInfo.userId);\n            setIsUserFollowing(!!result);\n            setFollowersCount(profileUserInfo.followers.length);\n        };\n        if (profileUserInfo && username) {\n            checkIfUsersFollowing();\n        }\n    }, [profileUserInfo, username]);\n\n    const toggleUserFollow = async () => {\n        setIsUserFollowing((prevState) => !prevState);\n        isUserFollowing\n            ? setFollowersCount((prevState) => prevState - 1)\n            : setFollowersCount((prevState) => prevState + 1);\n\n        await toggleFollow(docId, userId, profileUserInfo.docId, profileUserInfo.userId, isUserFollowing);\n    };\n\n    const closeFollowingFollowersList = (e) => {\n        if (e.target === e.currentTarget) {\n            setFollowingOrFollowers(null);\n        }\n    };\n\n    return (\n        <div className=\"pt-24 text-gray-light\">\n            {followingOrFollowers && (\n                <div\n                    onClick={(e) => {\n                        closeFollowingFollowersList(e);\n                    }}\n                    className=\"flex justify-center w-screen h-screen pt-20 bg-gray-primary bg-opacity-50 absolute top-0 left-0 z-90\"\n                >\n                    <div className=\"\">\n                        <FollowingFollwersList\n                            following={profileUserInfo.following}\n                            followers={profileUserInfo.followers}\n                            followingOrFollowers={followingOrFollowers}\n                            setFollowingOrFollowers={setFollowingOrFollowers}\n                        />\n                    </div>\n                </div>\n            )}\n            <div className=\"flex items-center \">\n                <div className=\"pr-4\">\n                    <img\n                        src={profileUserInfo.photo}\n                        alt={`${profileUserInfo.username} profile photo`}\n                        className=\"w-36 h-36 rounded-full object-cover\"\n                    />\n                </div>\n\n                <div className=\"w-1/2\">\n                    <div className=\"flex items-center\">\n                        <div>\n                            <p className=\"text-lg font-bold\">{profileUserInfo.fullName}</p>\n                            <p>\n                                <span className=\"text-sm\">ID: </span>\n                                {profileUserInfo.username}\n                            </p>\n                        </div>\n                        <div className=\"ml-10\">\n                            {profileUserInfo.username === username ? (\n                                <button\n                                    className=\"text-xs bg-gray-dark text-gray-light p-2 rounded\"\n                                    onClick={() => history.push(`/edit/${username}`)}\n                                >\n                                    Edit Profile\n                                </button>\n                            ) : null}\n                        </div>\n                    </div>\n\n                    <p className=\"\">\n                        <span className=\"text-sm\">Category: </span>\n                        {profileUserInfo.category}\n                    </p>\n                    <div className=\"flex mt-4\">\n                        <p>\n                            {photoCounts} <span className=\"text-sm\">{photoCounts === 1 ? 'post' : 'posts'}</span>\n                        </p>\n                        <p\n                            className=\"px-4 cursor-pointer\"\n                            onClick={() => setFollowingOrFollowers(profileUserInfo.followers.length > 0 && 'followers')}\n                        >\n                            {followersCount}{' '}\n                            <span className=\"text-sm\">\n                                {profileUserInfo.followers.length === 1 ? 'follower' : 'followers'}\n                            </span>\n                        </p>\n                        <p\n                            className=\"cursor-pointer\"\n                            onClick={() => setFollowingOrFollowers(profileUserInfo.following.length > 0 && 'following')}\n                        >\n                            {profileUserInfo.following.length} <span className=\"text-sm\">following</span>\n                        </p>\n                    </div>\n                </div>\n                <div>\n                    {profileUserInfo.username === username || isUserFollowing === null ? null : (\n                        <button\n                            onClick={toggleUserFollow}\n                            className={`rounded text-gray-light bg-red-primary text-sm py-2 px-6 ${\n                                isUserFollowing ? 'bg-red-primary' : 'bg-blue-primary'\n                            }`}\n                        >\n                            {isUserFollowing ? 'Unfollow' : 'Follow'}\n                        </button>\n                    )}\n                </div>\n            </div>\n            <div className=\"pt-2 max-w-2xl\">\n                <p className=\"\">{profileUserInfo.title}</p>\n                <p className=\"text-sm\">Bio:</p>\n                <p className=\"break-words text-sm\">{profileUserInfo.bio}</p>\n            </div>\n        </div>\n    );\n}\n\nProfileHeader.propTypes = {\n    profileUserInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n        bio: PropTypes.string,\n        docId: PropTypes.string,\n    }),\n    photos: PropTypes.array,\n    photoCounts: PropTypes.number,\n};\n\n{\n    /* <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n            <Skeleton count={1} width={480} height={200} className=\"mt-20\" />\n        </SkeletonTheme> */\n}\n","import React, { useState, useEffect } from 'react';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport PropTypes from 'prop-types';\nimport Header from '../post/Header';\nimport Image from '../post/Image';\nimport Action from '../post/Action';\nimport useUser from '../../hooks/useUser';\nimport { getLatestPhotoInfo } from '../../services/firebase';\n\nexport default function ImageDetails({ photo, profileUsername }) {\n    const [photoWithDetails, setPhotoWithDetails] = useState(null);\n\n    const {\n        userInfo: { userId },\n    } = useUser();\n\n    useEffect(() => {\n        const latestPhotoInfo = async () => {\n            const result = await getLatestPhotoInfo(photo.photoId, userId, profileUsername);\n            setPhotoWithDetails(result);\n        };\n        if (userId && photo) {\n            latestPhotoInfo();\n        }\n    }, [userId, photo]);\n    console.log('photo', photo);\n    console.log('photoWithDetails', photoWithDetails);\n\n    return photoWithDetails?.username ? (\n        <div className=\"bg-gray-light py-8 px-16 mb-8\">\n            <Header\n                userId={photoWithDetails.userId}\n                username={photoWithDetails.username}\n                caption={photoWithDetails.caption}\n                date={photoWithDetails.dateCreated}\n            />\n            <Image imageSrc={photoWithDetails.imageSrc} />\n            <Action\n                likes={photoWithDetails.likes}\n                userLikedPhoto={photoWithDetails.userLikedPhoto}\n                comments={photoWithDetails.comments}\n                docId={photoWithDetails.docId}\n            />\n        </div>\n    ) : (\n        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n            <Skeleton count={1} width={600} height={600} />\n        </SkeletonTheme>\n    );\n}\n\nImageDetails.propTypes = {\n    photo: PropTypes.shape({\n        // caption: PropTypes.string.isRequired,\n        // comments: PropTypes.array.isRequired,\n        // dateCreated: PropTypes.number.isRequired,\n        // docId: PropTypes.string.isRequired,\n        // imageSrc: PropTypes.string.isRequired,\n        // likes: PropTypes.array.isRequired,\n        photoId: PropTypes.string.isRequired,\n        // userId: PropTypes.string.isRequired,\n    }),\n    profileUsername: PropTypes.string.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageDetails from './ImageDetails';\nimport useUser from '../../hooks/useUser';\n\nexport default function Image({ photo, profileUserInfo }) {\n    const [isImageClicked, setIsImageClicked] = useState(false);\n    // const [photoWithInfo, setPhotoWithInfo] = useState(null);\n\n    // const {\n    //     userInfo: { userId },\n    // } = useUser();\n\n    const screenToggle = () => {\n        setIsImageClicked((prevState) => !prevState);\n    };\n\n    const closeImage = (e) => {\n        if (e.target === e.currentTarget) {\n            screenToggle();\n        }\n    };\n\n    // useEffect(() => {\n    //     const getPhotoWithDetails = () => {\n    //         let userLikedPhoto = false;\n    //         if (photo.likes.includes(userId)) {\n    //             userLikedPhoto = true;\n    //         }\n    //         setPhotoWithInfo({ ...photo, userLikedPhoto, username: profileUserInfo.username });\n    //     };\n    //     if (photo && userId) {\n    //         getPhotoWithDetails();\n    //     }\n    // }, [photo, userId]);\n\n    return photo ? (\n        <>\n            <img\n                src={photo.imageSrc}\n                alt={photo.caption}\n                className=\"object-cover cursor-pointer\"\n                style={{ width: '100%', aspectRatio: '1' }}\n                onClick={screenToggle}\n            />\n            {isImageClicked && (\n                <div\n                    onClick={(e) => {\n                        closeImage(e);\n                    }}\n                    className=\"flex justify-center w-screen pt-20 bg-gray-primary bg-opacity-50 absolute top-0 left-0 z-90 h-screen\"\n                >\n                    <div className=\"w-full max-w-screen-sm pb-8\">\n                        <ImageDetails photo={photo} profileUsername={profileUserInfo.username} />\n                    </div>\n                </div>\n            )}\n        </>\n    ) : null;\n}\n\nImage.propTypes = {\n    photo: PropTypes.shape({\n        imageSrc: PropTypes.string,\n        caption: PropTypes.string,\n        likes: PropTypes.array,\n        userId: PropTypes.string,\n    }),\n    profileUserInfo: PropTypes.shape({\n        username: PropTypes.string,\n    }),\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './Image';\n\nexport default function Images({ profileUserInfo, photos }) {\n    return (\n        <div className=\"border-t-2 border-gray-dark my-8 pt-8\">\n            <div className=\"grid grid-cols-3 gap-8 items-center\">\n                {photos.map((photo, index) => (\n                    <Image key={index} photo={photo} profileUserInfo={profileUserInfo} />\n                ))}\n            </div>\n        </div>\n    );\n}\nImages.propTypes = {\n    profileUserInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n        bio: PropTypes.string,\n    }),\n    photos: PropTypes.array,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ProfileHeader from './ProfileHeader';\nimport Images from './Images';\nimport { getPhotosbyUserId } from '../../services/firebase';\n\nexport default function UserProfile({ profileUserInfo }) {\n    const [photos, setPhotos] = useState(null);\n    const [photoCounts, setPhotoCounts] = useState(0);\n\n    useEffect(() => {\n        const getProfileUserPhotos = async () => {\n            const result = await getPhotosbyUserId(profileUserInfo.userId);\n            setPhotos(result.sort((a, b) => b.dateCreated - a.dateCreated));\n            setPhotoCounts(result.length);\n        };\n        if (profileUserInfo?.userId) {\n            getProfileUserPhotos();\n        }\n    }, [profileUserInfo?.userId]);\n\n    return (\n        <div className=\"max-w-screen-lg container mx-auto px-4\">\n            <ProfileHeader profileUserInfo={profileUserInfo} photos={photos} photoCounts={photoCounts} />\n            {!photos ? null : photos.length > 0 ? (\n                <Images profileUserInfo={profileUserInfo} photos={photos} />\n            ) : (\n                <div className=\"mt-8 border-t-2 border-gray-dark\">\n                    <p className=\"text-gray-light text-center pt-8\">No Posts</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\nUserProfile.propTypes = {\n    profileUserInfo: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Header from '../components/Header';\nimport { getUserByUsername } from '../services/firebase';\nimport { useHistory } from 'react-router-dom';\nimport UserProfile from '../components/profile/';\nimport * as ROUTES from '../constants/routes';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nexport default function Profile() {\n    const { username } = useParams();\n    const [profileUserInfo, setProfileUserInfo] = useState(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        const getProfileUserInfo = async () => {\n            const [result] = await getUserByUsername(username);\n            setProfileUserInfo(result);\n            if (!result) {\n                history.push(ROUTES.NOT_FOUND);\n            }\n        };\n        if (username) {\n            getProfileUserInfo();\n        }\n    }, [username]);\n\n    return profileUserInfo?.username ? (\n        <div>\n            <Header />\n            <UserProfile profileUserInfo={profileUserInfo} />\n        </div>\n    ) : (\n        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n            <div className=\"max-w-screen-lg h-screen mx-auto\">\n                <Skeleton count={1} height={200} className=\"mt-20 mx-4\" />\n            </div>\n        </SkeletonTheme>\n    );\n}\n"],"sourceRoot":""}