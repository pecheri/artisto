(this.webpackJsonpartisto=this.webpackJsonpartisto||[]).push([[11],{105:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));r(3);var n=r(61),a=r(6);function c(){return Object(a.jsx)("div",{children:Object(a.jsx)(n.a,{})})}},55:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return b})),r.d(t,"a",(function(){return x})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"i",(function(){return L})),r.d(t,"c",(function(){return M})),r.d(t,"f",(function(){return z})),r.d(t,"j",(function(){return P}));var n=r(30),a=r(17),c=r(56),s=r.n(c),u=r(57),o=r(23),i=r(62),p=r.n(i);function l(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("users").where("username","==",t).get();case 2:return r=e.sent,console.log(r.docs.length>0),e.abrupt("return",r.docs.length>0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("users").where("userId","==",t).get();case 2:return r=e.sent,n=r.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("users").where("username","==",t).get();case 2:return r=e.sent,n=r.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(s.a.mark((function e(t,r){var c,u,i,p,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("users").where("username","==",t).where("following","array-contains",r).get();case 2:return c=e.sent,u=c.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),i=Object(n.a)(u,1),p=i[0],l=void 0===p?{}:p,e.abrupt("return",l.userId);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(s.a.mark((function e(t,r){var c,i,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("photos").where("userId","in",t).get();case 2:return c=e.sent,i=c.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(i.map(function(){var e=Object(u.a)(s.a.mark((function e(t){var c,u,o,i,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!1,t.likes.includes(r)&&(c=!0),e.next=4,d(t.userId);case 4:return u=e.sent,o=Object(n.a)(u,1),i=o[0],p=i.username,e.abrupt("return",Object(a.a)(Object(a.a)({username:p},t),{},{userLikedPhoto:c}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return p=e.sent,e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("photos").where("userId","==",t).get();case 2:return r=e.sent,n=r.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(s.a.mark((function e(t,r,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.b.firestore().collection("users").doc(t).update({following:n?o.a.arrayRemove(r):o.a.arrayUnion(r)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,r){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(s.a.mark((function e(t,r,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.b.firestore().collection("users").doc(t).update({followers:n?o.a.arrayRemove(r):o.a.arrayUnion(r)});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,r,n,a){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(s.a.mark((function e(t,r,n,a,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,a,c);case 2:return e.next=4,N(n,r,c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(u.a)(s.a.mark((function e(t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,a=Object(n.a)(r,1),c=a[0],console.log("userList",c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,console.log("result",r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(s.a.mark((function e(t){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.firestore().collection("users").where("category","==",t).get();case 2:return r=e.sent,n=r.docs.map((function(e){return Object(a.a)(Object(a.a)({},e.data()),{},{docId:e.id})})),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,r,n,a,c){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(s.a.mark((function e(t,r,n,a,c,u){var i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=11;break}return i="",(l=new FormData).append("file",u[0]),l.append("upload_preset","s4onxndn"),l.append("cloud_name","test"),e.next=8,p.a.post("https://api.cloudinary.com/v1_1/dvhwserkv/image/upload",l).then((function(e){var t=e.data;i=t.secure_url,console.log("url",i)}));case 8:o.b.firestore().collection("users").doc(t).update({fullName:r,category:n,title:a,bio:c,photo:i}),e.next=12;break;case 11:o.b.firestore().collection("users").doc(t).update({fullName:r,category:n,title:a,bio:c});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},58:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(56),a=r.n(n),c=r(57),s=r(30),u=r(3),o=r(31),i=r(55);function p(){var e=Object(u.useContext)(o.a).user,t=Object(u.useState)({}),r=Object(s.a)(t,2),n=r[0],p=r[1];return Object(u.useEffect)((function(){function t(){return(t=Object(c.a)(a.a.mark((function t(){var r,n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.g)(e.uid);case 2:r=t.sent,n=Object(s.a)(r,1),c=n[0],p(c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===e||void 0===e?void 0:e.uid)&&function(){t.apply(this,arguments)}()}),[e]),{userInfo:n}}},59:function(e,t,r){"use strict";t.a=r.p+"static/media/logo.6dc95425.png"},61:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(3),a=r(59),c=r(8),s=r(19),u=r(11),o=r(31),i=r(20),p=(r(55),r(58)),l=r(6);function f(){Object(n.useContext)(o.a).user;var e=Object(n.useContext)(i.a).firebase,t=Object(c.g)(),r=Object(p.a)().userInfo;return Object(l.jsx)("div",{className:"bg-gray-dark w-screen h-14 flex justify-center items-center fixed z-50",children:Object(l.jsxs)("div",{className:"max-w-screen-xl w-screen h-14 flex justify-between items-center",children:[Object(l.jsx)(s.b,{to:u.a,children:Object(l.jsx)("h1",{className:"h-14 flex",children:Object(l.jsx)("img",{src:a.a,alt:"artisto"})})}),Object(l.jsxs)("div",{className:"flex flex-row items-center",children:[Object(l.jsx)("div",{className:"pr-4",children:Object(l.jsx)(s.b,{to:u.g,children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-light",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),Object(l.jsx)("div",{className:"pr-4",children:Object(l.jsx)(s.b,{to:u.c,children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-light",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),Object(l.jsx)("div",{className:"flex h-14 items-center pr-4",children:Object(l.jsx)(s.b,{to:"/p/".concat(r.username),children:Object(l.jsx)("img",{src:r.photo,className:"h-10 w-10 rounded-full"})})}),Object(l.jsx)("div",{className:"pr-4 cursor-pointer",onClick:function(){e.auth().signOut(),t.push(u.b)},children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-light",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})}}}]);
//# sourceMappingURL=11.4e71421f.chunk.js.map