{"version":3,"sources":["pages/SignUp.js"],"names":["SignUp","firebase","useContext","FirebaseContext","useState","username","setUsername","email","setEmail","password","setPassword","fullName","setFullName","category","setCategory","error","setError","isInvalid","history","useHistory","useEffect","document","title","handleSignUp","event","a","preventDefault","doesUsernameExist","auth","createUserWithEmailAndPassword","createdUserResult","user","updateProfile","displayName","toLowerCase","firestore","collection","add","userId","uid","bio","followers","following","photo","dateCreated","Date","now","push","ROUTES","message","className","src","logo","alt","onSubmit","placeholder","type","onChange","target","value","hidden","categories","sort","map","index","disabled","to"],"mappings":"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","file":"static/js/11.06dd28f4.chunk.js","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport FirebaseContext from '../context/firebase';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport logo from '../images/logo.png';\nimport { categories } from '../lib/categories';\nimport { doesUsernameExist } from '../services/firebase';\n\nexport default function SignUp() {\n    const { firebase } = useContext(FirebaseContext);\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [fullName, setFullName] = useState('');\n    const [category, setCategory] = useState('');\n    const [error, setError] = useState('');\n    const isInvalid = password === '' || email === '' || username === '' || fullName === '' || category === '';\n    const history = useHistory();\n\n    useEffect(() => {\n        document.title = 'Sign In - Artisto';\n    }, []);\n\n    const handleSignUp = async (event) => {\n        event.preventDefault();\n        const usernameExist = await doesUsernameExist(username);\n        if (!usernameExist) {\n            try {\n                const createdUserResult = await firebase.auth().createUserWithEmailAndPassword(email, password);\n                await createdUserResult.user.updateProfile({\n                    displayName: username.toLowerCase(),\n                });\n\n                await firebase.firestore().collection('users').add({\n                    userId: createdUserResult.user.uid,\n                    username: username.toLowerCase(),\n                    fullName,\n                    email: email.toLowerCase(),\n                    category: category,\n                    title: '',\n                    bio: '',\n                    followers: [],\n                    following: [],\n                    photo: '',\n                    dateCreated: Date.now(),\n                });\n                history.push(ROUTES.DASHBOARD);\n            } catch (error) {\n                setError(error.message);\n            }\n        } else {\n            setUsername('');\n            setError('That username is already taken, please try another.');\n        }\n    };\n\n    return (\n        <div className=\"flex justify-center container max-w-screen-md items-center h-screen mx-auto\">\n            <div className=\"w-1/2\">\n                <h1 className=\"w-full flex items-center justify-end\">\n                    <img src={logo} alt=\"artisto\" className=\"\" />\n                </h1>\n            </div>\n            <div className=\"w-1/2\">\n                <div className=\"bg-gray-dark rounded\">\n                    <div className=\"p-8\">\n                        {error && <p className=\"text-xs text-red-primary\">{error}</p>}\n                        <form className=\"flex flex-col\" onSubmit={handleSignUp}>\n                            <input\n                                placeholder=\"Username\"\n                                type=\"text\"\n                                onChange={({ target }) => setUsername(target.value)}\n                                value={username}\n                                className=\"bg-gray-light w-full p-1 h-10 text-sm mb-5\"\n                            />\n                            <input\n                                placeholder=\"Full Name\"\n                                type=\"text\"\n                                onChange={({ target }) => setFullName(target.value)}\n                                value={fullName}\n                                className=\"bg-gray-light w-full p-1 h-10 text-sm mb-5\"\n                            />\n                            <select\n                                className=\"bg-gray-light w-full py-1 h-10 text-sm text-gray-dark mb-5\"\n                                onChange={({ target }) => setCategory(target.value)}\n                                value={category}\n                            >\n                                <option hidden value=\"\">\n                                    Category\n                                </option>\n                                {categories.sort().map((category, index) => (\n                                    <option key={index} value={category}>\n                                        {category}\n                                    </option>\n                                ))}\n                                <option value=\"others\">Others</option>\n                            </select>\n                            <input\n                                placeholder=\"Email Address\"\n                                type=\"text\"\n                                onChange={({ target }) => setEmail(target.value)}\n                                value={email}\n                                className=\"bg-gray-light w-full p-1 h-10 text-sm mb-5\"\n                            />\n\n                            <input\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                onChange={({ target }) => setPassword(target.value)}\n                                value={password}\n                                className=\"bg-gray-light w-full p-1 h-10 text-sm\"\n                            />\n                            <button\n                                className={`bg-yellow-primary text-gray-dark mt-12 w-full p-1 h-10 rounded ${\n                                    isInvalid && 'opacity-50'\n                                }`}\n                                type=\"submit\"\n                                disabled={isInvalid}\n                            >\n                                Sign Up\n                            </button>\n                        </form>\n                    </div>\n                    <div className=\"flex flex-col justify-center items-center\">\n                        <p className=\"text-gray-light text-xs mb-12 mt-8\">\n                            You already have an account?{' '}\n                            <Link to={ROUTES.LOGIN} className=\"text-yellow-primary\">\n                                Login\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"sourceRoot":""}