{"version":3,"sources":["components/post/index.js","components/Timeline.js","hooks/usePhotos.js","pages/DashBoard.js","components/SideProfile.js"],"names":["Post","photo","className","userId","username","caption","date","dateCreated","Image","imageSrc","Action","likes","userLikedPhoto","comments","docId","Timeline","useContext","UserContext","user","photos","useState","setPhotos","userContext","uid","useEffect","a","getUserByUserId","following","followedUserPhotos","length","getFollowingPhotosByUserId","sort","b","getTimelinePhotos","usePhotos","map","color","highlightColor","count","width","height","DashBoard","setUserInfo","document","title","result","getUserInfo","Header","SideProfile","userInfo","useUser","to","src","circle","fullName","category","bio"],"mappings":"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","file":"static/js/14.3d44e480.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './Header';\nimport Image from './Image';\nimport Action from './Action';\n\nexport default function Post({ photo }) {\n    return (\n        <div className=\"bg-gray-light py-8 px-16 mb-8\">\n            <Header userId={photo.userId} username={photo.username} caption={photo.caption} date={photo.dateCreated} />\n            <Image imageSrc={photo.imageSrc} />\n            <Action\n                likes={photo.likes}\n                userLikedPhoto={photo.userLikedPhoto}\n                comments={photo.comments}\n                docId={photo.docId}\n            />\n        </div>\n    );\n}\n\nPost.propTypes = {\n    photo: PropTypes.shape({\n        caption: PropTypes.string.isRequired,\n        comments: PropTypes.array.isRequired,\n        dateCreated: PropTypes.number.isRequired,\n        docId: PropTypes.string.isRequired,\n        imageSrc: PropTypes.string.isRequired,\n        likes: PropTypes.array.isRequired,\n        photoId: PropTypes.string.isRequired,\n        userId: PropTypes.string.isRequired,\n        username: PropTypes.string.isRequired,\n        userLikedPhoto: PropTypes.bool.isRequired,\n    }),\n};\n","import React, { useEffect, useState, useContext } from 'react';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport useUser from '../hooks/useUser';\nimport { getFollowingPhotosByUserId, getUserByUserId } from '../services/firebase';\nimport UserContext from '../context/user';\nimport Post from './post';\nimport usePhotos from '../hooks/usePhotos';\n\nexport default function Timeline() {\n    const { user } = useContext(UserContext);\n    const { photos } = usePhotos();\n\n    return (\n        <div className=\"col-span-2 container\">\n            {!photos ? (\n                <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n                    <Skeleton count={4} width={640} height={500} />\n                </SkeletonTheme>\n            ) : photos.length > 0 ? (\n                photos.map((photo) => <Post key={photo.docId} photo={photo} />)\n            ) : (\n                <p>Follow artists to see photos!</p>\n            )}\n        </div>\n    );\n}\n","import { useState, useEffect, useContext } from 'react';\nimport userContext from '../context/user';\nimport { getUserByUserId, getFollowingPhotosByUserId } from '../services/firebase';\n\nexport default function usePhotos() {\n    const [photos, setPhotos] = useState(null);\n    const {\n        user: { uid: userId = '' },\n    } = useContext(userContext);\n\n    useEffect(() => {\n        async function getTimelinePhotos() {\n            const [{ following }] = await getUserByUserId(userId);\n            let followedUserPhotos = [];\n\n            // does the user actually follow people?\n            if (following.length > 0) {\n                followedUserPhotos = await getFollowingPhotosByUserId(following, userId);\n            }\n            // re-arrange array to be newest photos first by dateCreated\n            followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\n            setPhotos(followedUserPhotos);\n        }\n\n        getTimelinePhotos();\n    }, [userId]);\n    return { photos };\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport UserContext from '../context/user';\nimport Header from '../components/Header';\nimport Timeline from '../components/Timeline';\nimport SideProfile from '../components/SideProfile';\nimport { getUserByUserId } from '../services/firebase';\nimport useUser from '../hooks/useUser';\n\nexport default function DashBoard() {\n    const [userInfo, setUserInfo] = useState({});\n    const { user } = useContext(UserContext);\n    useEffect(() => {\n        document.title = 'Artisto';\n    }, []);\n\n    useEffect(() => {\n        const getUserInfo = async () => {\n            const [result] = await getUserByUserId(user.uid);\n            setUserInfo(result);\n        };\n        if (user) {\n            getUserInfo();\n        }\n    }, [user]);\n\n    return (\n        <div className=\"font-body\">\n            <Header />\n            <div className=\"w-sceen flex justify-center pt-24\">\n                <div className=\"grid grid-cols-3 w-full max-w-screen-lg mx-4\">\n                    <Timeline />\n                    <SideProfile />\n                </div>\n            </div>\n        </div>\n    );\n}\n\n{\n    /* <img src=\"https://media.istockphoto.com/vectors/default-profile-picture-avatar-photo-placeholder-vector-illustration-vector-id1223671392?k=6&m=1223671392&s=612x612&w=0&h=NGxdexflb9EyQchqjQP0m6wYucJBYLfu46KCLNMHZYM=\" /> */\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\nimport { Link } from 'react-router-dom';\nimport useUser from '../hooks/useUser';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nexport default function SideProfile() {\n    // const [userInfo, setUserInfo] = useState({});\n    // const { user } = useContext(UserContext);\n    // useEffect(() => {\n    //     document.title = 'Artisto';\n    // }, []);\n\n    // useEffect(() => {\n    //     const getUserInfo = async () => {\n    //         const [result] = await getUserByUserId(user.uid);\n    //         setUserInfo(result);\n    //         console.log('result', result);\n    //     };\n    //     if (user) {\n    //         getUserInfo();\n    //     }\n    // }, [user]);\n\n    const { userInfo } = useUser();\n\n    return (\n        <SkeletonTheme color=\"#494848\" highlightColor=\"#F1F1F1\">\n            <div className=\"flex pt-4 justify-center\">\n                <div className=\"mx-auto justify-center flex-col w-full sticky top-0 max-h-screen pt-20\">\n                    <div className=\"flex justify-center\">\n                        <Link to={`/p/${userInfo.username}`}>\n                            {!userInfo.photo ? (\n                                <Skeleton width={144} height={144} circle={true} />\n                            ) : (\n                                <img src={userInfo.photo} className=\"h-36 w-36 rounded-full object-cover\" />\n                            )}\n                        </Link>\n                    </div>\n                    {!userInfo.fullName ? (\n                        <div className=\"flex justify-center flex-col items-center mt-4\">\n                            <Skeleton width={180} height={200} />\n                        </div>\n                    ) : (\n                        <>\n                            <div className=\"flex justify-center flex-col items-center\">\n                                <p className=\"font-bold mt-4 text-gray-light\">{userInfo.fullName}</p>\n                                <p className=\"text-sm text-gray-light\">\n                                    <span className=\"text-xs\">ID: </span>\n                                    {userInfo.username}\n                                </p>\n                                <p className=\"text-sm mt-4 text-gray-light\">{userInfo.title}</p>\n                                <p className=\"mt-2 text-sm text-gray-light\">\n                                    <span className=\"text-xs \">Category: </span>\n                                    {userInfo.category}\n                                </p>\n                            </div>\n                            <div className=\"mt-2 px-20\">\n                                <p className=\"text-sm text-gray-light\">Bio:</p>\n                                <p className=\"text-xs w-full break-words text-gray-light\">{userInfo.bio}</p>\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        </SkeletonTheme>\n    );\n}\n\nSideProfile.propTypes = {\n    userInfo: PropTypes.shape({\n        dateCreated: PropTypes.number,\n        email: PropTypes.string,\n        followers: PropTypes.array,\n        following: PropTypes.array,\n        fullName: PropTypes.string,\n        userId: PropTypes.string,\n        username: PropTypes.string,\n        category: PropTypes.string,\n        photo: PropTypes.string,\n        title: PropTypes.string,\n        bio: PropTypes.string,\n    }),\n};\n"],"sourceRoot":""}