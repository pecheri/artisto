(this.webpackJsonpartisto=this.webpackJsonpartisto||[]).push([[15],{109:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return I}));var n=s(55),r=s.n(n),c=s(56),o=s(30),a=s(3),l=s(8),i=s(60),u=s(57),d=s(61),j=s(18),m=s(4);function x(e){var t=e.username,s=e.fullName,n=e.photo,r=e.setFollowingOrFollowers;return Object(m.jsxs)("div",{className:"p-2 flex mx-auto items-center",children:[Object(m.jsx)(j.b,{to:"/p/".concat(t),onClick:function(){return r()},children:Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:n,className:"h-10 w-10 rounded-full object-cover"})})}),Object(m.jsxs)("div",{className:"pl-4",children:[Object(m.jsx)(j.b,{to:"/p/".concat(t),onClick:function(){return r()},children:Object(m.jsx)("p",{className:"font-bold",children:s})}),Object(m.jsxs)("p",{className:"text-sm",children:[Object(m.jsx)("span",{className:"text-xs",children:"ID: "}),t]})]})]})}var b=s(64),f=s.n(b);function h(e){var t=e.following,s=e.followers,n=e.followingOrFollowers,l=e.setFollowingOrFollowers,i=Object(a.useState)([]),d=Object(o.a)(i,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(c.a)(r.a.mark((function e(){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(t);case 2:s=e.sent,b(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(s);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"following"===n&&e(),"followers"===n&&o()}),[n]),Object(m.jsx)("div",{className:"bg-gray-light h-full sm:max-w-sm sm:w-96 w-screen rounded text-gray-dark p-8 overflow-scroll relative",children:j?j.map((function(e,t){return Object(m.jsx)(x,{username:e.username,fullName:e.fullName,photo:e.photo,setFollowingOrFollowers:l},t)})):Object(m.jsx)(f.a,{count:4,className:"w-full pb-4 h-1/4"})})}function p(e){var t=e.profileUserInfo,s=e.photoCounts,n=Object(d.a)().userInfo,i=n.username,j=n.docId,x=n.userId,b=Object(a.useState)(null),f=Object(o.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)(t.followers.length),v=Object(o.a)(g,2),w=v[0],N=v[1],k=Object(a.useState)(null),y=Object(o.a)(k,2),C=y[0],I=y[1],F=Object(l.g)();Object(a.useEffect)((function(){t&&i&&function(){var e=Object(c.a)(r.a.mark((function e(){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(i,t.userId);case 2:s=e.sent,O(!!s),N(t.followers.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,i]);var S=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O((function(e){return!e})),N(p?function(e){return e-1}:function(e){return e+1}),e.next=4,Object(u.j)(j,x,t.docId,t.userId,p);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"pt-24 text-gray-light",children:[C&&Object(m.jsx)("div",{onClick:function(e){!function(e){e.target===e.currentTarget&&I(null)}(e)},className:"flex justify-center w-screen h-screen pt-20 bg-gray-primary bg-opacity-50 fixed top-0 left-0 bottom-0 right-0 z-90",children:Object(m.jsxs)("div",{className:"relative h-3/4",children:[Object(m.jsx)("button",{onClick:function(){return I(null)},className:"absolute top-2 right-2 md:-right-10 md:text-gray-light text-gray-dark z-90",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 md:h-10 md:w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),Object(m.jsx)(h,{following:t.following,followers:t.followers,followingOrFollowers:C,setFollowingOrFollowers:I})]})}),Object(m.jsxs)("div",{className:"flex items-top sm:items-center ",children:[Object(m.jsx)("div",{className:"pr-2 sm:pr-4",children:Object(m.jsx)("img",{src:t.photo,alt:"".concat(t.username," profile photo"),className:"sm:w-36 sm:h-36 w-12 h-12 rounded-full object-cover"})}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm font-bold sm:text-lg",children:t.fullName}),Object(m.jsxs)("p",{className:"text-xs sm:text-base",children:[Object(m.jsx)("span",{className:"sm:text-sm",children:"ID: "}),t.username]})]}),Object(m.jsxs)("div",{className:"ml-4 sm:ml-10",children:[t.username===i?Object(m.jsx)("button",{className:"text-xs bg-gray-dark text-gray-light p-2 rounded",onClick:function(){return F.push("/edit/".concat(i))},children:"Edit Profile"}):null,t.username===i||null===p?null:Object(m.jsx)("button",{onClick:S,className:"rounded text-gray-light bg-red-primary text-xs p-2 sm:hidden ".concat(p?"bg-red-primary":"bg-blue-primary"),children:p?"Unfollow":"Follow"})]})]}),Object(m.jsxs)("p",{className:"text-sm sm:text-base",children:[Object(m.jsx)("span",{className:"text-xs sm:text-sm",children:"Category: "}),t.category]}),Object(m.jsxs)("div",{className:"flex mt-2 sm:mt-4",children:[Object(m.jsxs)("p",{className:"text-sm sm:text-base",children:[s," ",Object(m.jsx)("span",{className:"text-xs sm:text-sm",children:1===s?"post":"posts"})]}),Object(m.jsxs)("p",{className:"px-4 cursor-pointer text-sm sm:text-base",onClick:function(){return I(t.followers.length>0&&"followers")},children:[w," ",Object(m.jsx)("span",{className:"text-xs sm:text-sm",children:1===t.followers.length?"follower":"followers"})]}),Object(m.jsxs)("p",{className:"cursor-pointer text-sm sm:text-base",onClick:function(){return I(t.following.length>0&&"following")},children:[t.following.length," ",Object(m.jsx)("span",{className:"text-xs sm:text-sm",children:"following"})]})]})]}),Object(m.jsx)("div",{children:t.username===i||null===p?null:Object(m.jsx)("button",{onClick:S,className:"rounded text-gray-light bg-red-primary text-sm py-2 px-6 hidden sm:block ".concat(p?"bg-red-primary":"bg-blue-primary"),children:p?"Unfollow":"Follow"})})]}),Object(m.jsxs)("div",{className:"pt-2 max-w-2xl",children:[Object(m.jsx)("p",{className:"text-sm sm:text-base",children:t.title}),Object(m.jsx)("p",{className:"text-xs sm:text-sm",children:"Bio:"}),Object(m.jsx)("p",{className:"break-words text-xs sm:text-sm",children:t.bio})]})]})}var O=s(76),g=s(77),v=s(80);function w(e){var t=e.photo,s=e.profileUsername,n=Object(a.useState)(null),l=Object(o.a)(n,2),i=l[0],j=l[1],x=Object(d.a)().userInfo.userId;return Object(a.useEffect)((function(){x&&t&&function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.e)(t.photoId,x,s);case 2:n=e.sent,j(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[x,t]),(null===i||void 0===i?void 0:i.username)?Object(m.jsxs)("div",{className:"bg-gray-light py-8 px-2 sm:px-8 mx-auto overflow-scroll rounded-sm",children:[Object(m.jsx)(O.a,{userId:i.userId,username:i.username,caption:i.caption,date:i.dateCreated}),Object(m.jsx)(g.a,{imageSrc:i.imageSrc}),Object(m.jsx)(v.a,{likes:i.likes,userLikedPhoto:i.userLikedPhoto,comments:i.comments,docId:i.docId})]}):Object(m.jsx)(b.SkeletonTheme,{color:"#494848",highlightColor:"#F1F1F1",children:Object(m.jsx)(f.a,{count:1,width:600,height:600})})}function N(e){var t=e.photo,s=e.profileUserInfo,n=e.photos,r=Object(a.useState)(!1),c=Object(o.a)(r,2),l=c[0],i=c[1],u=Object(a.useState)(t),d=Object(o.a)(u,2),j=d[0],x=d[1],b=function(){i((function(e){return!e})),x(t)};return t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"relative w-full",style:{paddingTop:"100%"},children:Object(m.jsx)("img",{src:t.imageSrc,alt:t.caption,className:"object-cover cursor-pointer absolute top-0 left-0 right-0 bottom-0 w-full h-full",onClick:b})}),l&&Object(m.jsxs)("div",{onClick:function(e){!function(e){e.target===e.currentTarget&&b()}(e)},className:"flex justify-center w-screen py-10 bg-gray-primary bg-opacity-70 fixed top-0 left-0 right-0 bottom-0 z-90",children:[Object(m.jsx)("button",{onClick:function(){n.indexOf(j)>0&&x((function(e){return n[n.indexOf(e)-1]}))},className:"hidden md:flex text-gray-light absolute md:left-4 lg:left-20 xl:left-40 top-1/2 p-4 rounded opacity-60 hover:opacity-100 ".concat(0===n.indexOf(j)&&"md:hidden"),children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),Object(m.jsx)("button",{onClick:function(){n.length-1!==n.indexOf(j)&&x((function(e){return n[n.indexOf(e)+1]}))},className:"hidden md:flex text-gray-light absolute md:right-4 lg:right-20 xl:right-40 top-1/2 p-4 rounded opacity-60 hover:opacity-100 ".concat(n.length-1===n.indexOf(j)&&"md:hidden"),children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}),Object(m.jsxs)("div",{className:"flex h-screen pb-4 sm:pb-0 sm:h-auto sm:max-h-screen relative max-w-screen-sm",children:[Object(m.jsx)("button",{onClick:b,className:" absolute top-0 right-0 text-gray-primary md:-right-10 md:text-gray-light",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 md:h-10 md:w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),Object(m.jsx)(w,{photo:j,profileUsername:s.username})]})]})]}):null}function k(e){var t=e.profileUserInfo,s=e.photos,n=e.photoCounts;return Object(m.jsx)("div",{className:"border-t-2 border-gray-dark my-8 pt-8",children:Object(m.jsx)("div",{className:"grid grid-cols-3 gap-2 sm:gap-8 items-center",children:s.map((function(e,r){return Object(m.jsx)(N,{photo:e,profileUserInfo:t,photos:s,photoCounts:n},r)}))})})}function y(e){var t=e.profileUserInfo,s=Object(a.useState)(null),n=Object(o.a)(s,2),l=n[0],i=n[1],j=Object(a.useState)(0),x=Object(o.a)(j,2),b=x[0],f=x[1],h=Object(d.a)().userInfo.userId;return Object(a.useEffect)((function(){var e=function(){var e=Object(c.a)(r.a.mark((function e(){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.f)(h,t.userId,t.username);case 2:s=e.sent,i(s.sort((function(e,t){return t.dateCreated-e.dateCreated}))),f(s.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(null===t||void 0===t?void 0:t.userId)&&h&&e()}),[null===t||void 0===t?void 0:t.userId,h]),Object(m.jsxs)("div",{className:"max-w-screen-lg container mx-auto px-4",children:[Object(m.jsx)(p,{profileUserInfo:t,photos:l,photoCounts:b}),l?l.length>0?Object(m.jsx)(k,{profileUserInfo:t,photos:l,photoCounts:b}):Object(m.jsx)("div",{className:"mt-8 border-t-2 border-gray-dark",children:Object(m.jsx)("p",{className:"text-gray-light text-center pt-8",children:"No Posts"})}):null]})}var C=s(11);function I(){var e=Object(l.i)().username,t=Object(a.useState)(null),s=Object(o.a)(t,2),n=s[0],d=s[1],j=Object(l.g)();return Object(a.useEffect)((function(){e&&function(){var t=Object(c.a)(r.a.mark((function t(){var s,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.i)(e);case 2:s=t.sent,n=Object(o.a)(s,1),c=n[0],d(c),c||j.push(C.d);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(a.useEffect)((function(){document.title="".concat(e," - Artisto")}),[e]),(null===n||void 0===n?void 0:n.username)?Object(m.jsxs)("div",{children:[Object(m.jsx)(i.a,{}),Object(m.jsx)(y,{profileUserInfo:n})]}):Object(m.jsx)(b.SkeletonTheme,{color:"#494848",highlightColor:"#F1F1F1",children:Object(m.jsx)("div",{className:"max-w-screen-lg h-screen mx-auto",children:Object(m.jsx)(f.a,{count:1,height:200,className:"mt-20 mx-4"})})})}},61:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s(55),r=s.n(n),c=s(56),o=s(30),a=s(3),l=s(31),i=s(57);function u(){var e=Object(a.useContext)(l.a).user,t=Object(a.useState)({}),s=Object(o.a)(t,2),n=s[0],u=s[1];return Object(a.useEffect)((function(){function t(){return(t=Object(c.a)(r.a.mark((function t(){var s,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.h)(e.uid);case 2:s=t.sent,n=Object(o.a)(s,1),c=n[0],u(c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===e||void 0===e?void 0:e.uid)&&function(){t.apply(this,arguments)}()}),[e]),{userInfo:n}}}}]);
//# sourceMappingURL=15.b9f76d8a.chunk.js.map