{"version":3,"sources":["services/firebase.js","images/logo.png","components/Header.js","hooks/useUser.js","components/post/Header.js","components/post/Image.js","components/post/AddComment.js","components/post/Comments.js","components/post/Action.js"],"names":["cloudName","process","presets","doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","docs","length","getUserByUserId","userId","user","map","item","data","docId","id","getUserByUsername","IsUserFollowingProfileUser","profileUserId","response","getFollowingPhotosByUserId","following","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","includes","userInfo","userFollowedPhotosWithDetails","getLatestPhotoInfo","photoId","profileUsername","photoWithDetails","getProfilePhotosbyUserId","profileId","profilePhotos","profilePhotosWithDetails","updateUserFollowing","userDocId","isUserFollowing","doc","update","FieldValue","arrayRemove","arrayUnion","updateProfileUserFollowers","profileUserDocId","followers","toggleFollow","getFollowingOrFollowersList","userIds","userList","getSearchResults","category","searchKeyword","users","limit","updateProfile","fullName","title","bio","imageFile","setUpload","url","formData","FormData","append","Axios","post","then","secure_url","alert","message","uploadNewPost","caption","add","comments","dateCreated","Date","now","imageSrc","userLatitude","userLongitude","Header","useState","setUserInfo","useContext","UserContext","uid","FirebaseContext","history","useHistory","useEffect","getUserInfo","className","to","ROUTES","src","logo","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","auth","signOut","push","useUser","activeUser","setActiveUser","getUserInfoByUserId","date","userPhotoSrc","setUserPhotoSrc","getUserPhotoSrc","formatDistance","Image","AddComment","allComments","setAllComments","comment","setComment","displayName","onSubmit","event","preventDefault","type","placeholder","autoComplete","value","onChange","target","Comments","viewAll","setViewAll","slice","index","Action","likeCount","setLikeCount","isUserLiked","setIsUserLiked","handleLike"],"mappings":"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","file":"static/js/2.87276486.chunk.js","sourcesContent":["import { firebase, FieldValue } from '../lib/firebase';\nimport Axios from 'axios';\nconst cloudName = `${process.env.REACT_APP_CLOUD_NAME}`;\nconst presets = `${process.env.REACT_APP_PRESETS}`;\n\nexport async function doesUsernameExist(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    return result.docs.length > 0;\n}\n\nexport async function getUserByUserId(userId) {\n    const result = await firebase.firestore().collection('users').where('userId', '==', userId).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function getUserByUsername(username) {\n    const result = await firebase.firestore().collection('users').where('username', '==', username).get();\n    const user = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return user;\n}\n\nexport async function IsUserFollowingProfileUser(username, profileUserId) {\n    const result = await firebase\n        .firestore()\n        .collection('users')\n        .where('username', '==', username)\n        .where('following', 'array-contains', profileUserId)\n        .get();\n    const [response = {}] = result.docs.map((item) => ({\n        ...item.data(),\n        docId: item.id,\n    }));\n    return response.userId;\n    // if (user.following.includes(profileUserId)) {\n    //     return true;\n    // } else {\n    //     return false;\n    // }\n}\n\nexport async function getFollowingPhotosByUserId(following, userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', 'in', following).get();\n    const userFollowedPhotos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    const userFollowedPhotosWithDetails = await Promise.all(\n        userFollowedPhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.likes.includes(userId)) {\n                userLikedPhoto = true;\n            }\n            const [userInfo] = await getUserByUserId(photo.userId);\n            const { username } = userInfo;\n            return {\n                username,\n                ...photo,\n                userLikedPhoto,\n            };\n        })\n    );\n    return userFollowedPhotosWithDetails;\n}\n\nexport async function getPhotosbyUserId(userId) {\n    const result = await firebase.firestore().collection('photos').where('userId', '==', userId).get();\n    const photos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    return photos;\n}\n\nexport async function getLatestPhotoInfo(photoId, userId, profileUsername) {\n    const result = await firebase.firestore().collection('photos').where('photoId', '==', photoId).get();\n    const [photoWithDetails] = await result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    let userLikedPhoto = false;\n    if (photoWithDetails.likes.includes(userId)) {\n        userLikedPhoto = true;\n    }\n    return { ...photoWithDetails, userLikedPhoto, username: profileUsername };\n}\n\nexport async function getProfilePhotosbyUserId(userId, profileId, profileUsername) {\n    const result = await firebase.firestore().collection('photos').where('userId', '==', profileId).get();\n    const profilePhotos = result.docs.map((photo) => ({\n        ...photo.data(),\n        docId: photo.id,\n    }));\n    const profilePhotosWithDetails = await Promise.all(\n        profilePhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.likes.includes(userId)) {\n                userLikedPhoto = true;\n            }\n            return {\n                username: profileUsername,\n                ...photo,\n                userLikedPhoto,\n            };\n        })\n    );\n    return profilePhotosWithDetails;\n}\n\nexport async function updateUserFollowing(userDocId, profileUserId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(userDocId)\n        .update({\n            following: isUserFollowing ? FieldValue.arrayRemove(profileUserId) : FieldValue.arrayUnion(profileUserId),\n        });\n}\n\nexport async function updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing) {\n    firebase\n        .firestore()\n        .collection('users')\n        .doc(profileUserDocId)\n        .update({\n            followers: isUserFollowing ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId),\n        });\n}\n\nexport async function toggleFollow(userDocId, userId, profileUserDocId, profileUserId, isUserFollowing) {\n    await updateUserFollowing(userDocId, profileUserId, isUserFollowing);\n    await updateProfileUserFollowers(profileUserDocId, userId, isUserFollowing);\n}\n\nexport async function getFollowingOrFollowersList(userIds) {\n    const result = await Promise.all(\n        userIds.map(async (userId) => {\n            const [userList] = await getUserByUserId(userId);\n            return userList;\n        })\n    );\n    return result;\n}\n\nexport async function getSearchResults(category, searchKeyword) {\n    if (searchKeyword) {\n        const result = await firebase.firestore().collection('users').where('category', '==', category).get();\n        const users = result.docs.map((item) => ({\n            ...item.data(),\n            docId: item.id,\n        }));\n        return users;\n    } else {\n        const result = await firebase.firestore().collection('users').limit(10).where('category', '==', category).get();\n        const users = result.docs.map((item) => ({\n            ...item.data(),\n            docId: item.id,\n        }));\n        return users;\n    }\n}\n\n// export async function getSearchResults(category) {\n//     const result = await firebase.firestore().collection('users').where('category', '==', category).get();\n//     const users = result.docs.map((item) => ({\n//         ...item.data(),\n//         docId: item.id,\n//     }));\n//     return users;\n// }\n\nexport async function updateProfilePhoto(imageFile) {\n    let url = '';\n    const formData = new FormData();\n    formData.append('file', imageFile[0]);\n    formData.append('upload_preset', presets);\n    formData.append('cloud_name', 'test');\n\n    Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n        url = JSON.stringify(data.secure_url);\n    });\n    return url;\n}\n\nexport async function updateProfile(docId, fullName, category, title, bio, imageFile, setUpload) {\n    setUpload(true);\n\n    if (imageFile) {\n        let url = '';\n        const formData = new FormData();\n        formData.append('file', imageFile[0]);\n        formData.append('upload_preset', presets);\n\n        try {\n            await Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n                url = data.secure_url;\n            });\n\n            await firebase.firestore().collection('users').doc(docId).update({\n                fullName,\n                category,\n                title,\n                bio,\n                photo: url,\n            });\n\n            setUpload(false);\n        } catch (error) {\n            setUpload(false);\n            alert(error.message);\n        }\n    } else {\n        await firebase.firestore().collection('users').doc(docId).update({\n            fullName,\n            category,\n            title,\n            bio,\n        });\n        setUpload(false);\n    }\n}\n\nexport async function uploadNewPost(caption, imageFile, userId, setUpload) {\n    let url = '';\n    const formData = new FormData();\n    formData.append('file', imageFile[0]);\n    formData.append('upload_preset', presets);\n\n    setUpload(true);\n\n    try {\n        await Axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData).then(({ data }) => {\n            url = data.secure_url;\n        });\n\n        await firebase\n            .firestore()\n            .collection('photos')\n            .add({\n                caption,\n                comments: [],\n                dateCreated: Date.now(),\n                imageSrc: url,\n                likes: [],\n                photoId: userId + Date.now(),\n                userId,\n                userLatitude: 34.0522,\n                userLongitude: -188.2437,\n            });\n\n        setUpload(false);\n    } catch (error) {\n        setUpload(false);\n        alert(error.message);\n    }\n}\n","export default __webpack_public_path__ + \"static/media/logo.6dc95425.png\";","import React, { useContext, useEffect, useState } from 'react';\nimport logo from '../images/logo.png';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport UserContext from '../context/user';\nimport FirebaseContext from '../context/firebase';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function Header() {\n    const [userInfo, setUserInfo] = useState('');\n    const {\n        user: { uid: userId },\n    } = useContext(UserContext);\n\n    const { firebase } = useContext(FirebaseContext);\n    const history = useHistory();\n    const handleSignOut = () => {\n        firebase.auth().signOut();\n        history.push(ROUTES.LOGIN);\n    };\n\n    useEffect(() => {\n        let result = null;\n        const getUserInfo = async () => {\n            while (!result) {\n                [result] = await getUserByUserId(userId);\n                setUserInfo(result);\n            }\n        };\n        if (userId) {\n            getUserInfo();\n        }\n    }, [userId]);\n\n    return userInfo ? (\n        <div className=\"bg-gray-dark w-screen h-14 flex justify-center items-center fixed z-50 top-0 left-0\">\n            <div className=\"max-w-screen-xl w-full h-14 flex justify-between items-center\">\n                <Link to={ROUTES.DASHBOARD}>\n                    <h1 className=\"flex sm:h-14 sm:w-auto w-28\">\n                        {/* <h1 className=\"sm:h-14 sm:w-auto w-28 flex\"> */}\n                        <img src={logo} alt=\"artisto\" className=\"sm:h-full sm:w-auto w-full h-auto\" />\n                    </h1>\n                </Link>\n                <div className=\"flex flex-row items-center\">\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.UPLOAD_IMAGE}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.SEARCH}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4\">\n                        <Link to={ROUTES.MESSAGES}>\n                            <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                            >\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                />\n                            </svg>\n                        </Link>\n                    </div>\n                    <div className=\"flex h-14 items-center pr-2 sm:pr-4\">\n                        <Link to={`/p/${userInfo?.username}`}>\n                            <img src={userInfo?.photo} className=\"h-5 w-5 sm:h-10 sm:w-10 rounded-full object-cover\" />\n                        </Link>\n                    </div>\n                    <div className=\"pr-2 sm:pr-4 cursor-pointer\" onClick={handleSignOut}>\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-5 w-5 sm:h-8 sm:w-8 text-gray-light\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                        >\n                            <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth=\"2\"\n                                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                            />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ) : null;\n}\n\n// Header.propTypes = {\n//     userInfo: PropTypes.shape({\n//         dateCreated: PropTypes.number,\n//         email: PropTypes.string,\n//         followers: PropTypes.array,\n//         following: PropTypes.array,\n//         fullName: PropTypes.string,\n//         userId: PropTypes.string,\n//         username: PropTypes.string,\n//         category: PropTypes.string,\n//         photo: PropTypes.string,\n//         title: PropTypes.string,\n//     }),\n// };\n","import { useContext, useState, useEffect } from 'react';\nimport UserContext from '../context/user';\nimport { getUserByUserId } from '../services/firebase';\n\nexport default function useUser() {\n    const { user } = useContext(UserContext);\n    const [activeUser, setActiveUser] = useState({});\n\n    useEffect(() => {\n        async function getUserInfoByUserId() {\n            const [result] = await getUserByUserId(user.uid);\n            setActiveUser(result);\n        }\n        if (user?.uid) {\n            getUserInfoByUserId();\n        }\n    }, [user]);\n    return { userInfo: activeUser };\n}\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { formatDistance } from 'date-fns';\nimport { getUserByUserId } from '../../services/firebase';\n\nexport default function Header({ username, userId, caption, date }) {\n    const [userPhotoSrc, setUserPhotoSrc] = useState(null);\n    useEffect(() => {\n        const getUserPhotoSrc = async () => {\n            const [result] = await getUserByUserId(userId);\n            const { photo } = result;\n            setUserPhotoSrc(photo);\n        };\n        if (userId) {\n            getUserPhotoSrc();\n        }\n    }, [userId]);\n\n    return (\n        <div className=\"\">\n            <div className=\"flex \">\n                <Link to={`/p/${username}`}>\n                    <div className=\"w-12 mr-2\">\n                        <img\n                            src={userPhotoSrc}\n                            alt={`${username} profile photo`}\n                            className=\"w-12 h-12 rounded-full mr-4 object-cover\"\n                        />\n                    </div>\n                </Link>\n                <div>\n                    <Link to={`/p/${username}`}>\n                        <p className=\"font-bold text-gray-dark\">{username}</p>\n                    </Link>\n                    <p className=\"text-gray-dark break-words text-xs sm:text-sm\">{caption}</p>\n                </div>\n            </div>\n            <p className=\"text-gray-primary text-xs pt-2 text-right\">{formatDistance(date, new Date())} ago</p>\n        </div>\n    );\n}\n\nHeader.propTypes = {\n    username: PropTypes.string.isRequired,\n    userId: PropTypes.string.isRequired,\n    caption: PropTypes.string.isRequired,\n    date: PropTypes.number.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Image({ imageSrc }) {\n    return (\n        <div className=\"flex w-full justify-center pt-2 pb-2\">\n            <img src={imageSrc} className=\"w-full\" />\n        </div>\n        // <div className=\"pt-2 pb-2 h-2/3 w-full\">\n        //     <img src={imageSrc} className=\"object-contain h-full\" />\n        // </div>\n    );\n}\n\nImage.propTypes = {\n    imageSrc: PropTypes.string.isRequired,\n};\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport UserContext from '../../context/user';\nimport FirebaseContext from '../../context/firebase';\n\nexport default function AddComment({ allComments, setAllComments, docId }) {\n    const [comment, setComment] = useState('');\n    const {\n        user: { displayName, uid: userId },\n    } = useContext(UserContext);\n    const { firebase, FieldValue } = useContext(FirebaseContext);\n\n    const handleSubmit = (event) => {\n        event.preventDefault(event);\n        setAllComments([{ comment, userId, displayName }, ...allComments]);\n        setComment('');\n        return firebase\n            .firestore()\n            .collection('photos')\n            .doc(docId)\n            .update({\n                comments: FieldValue.arrayUnion({ comment, userId, displayName }),\n            });\n    };\n    return (\n        <div className=\"mt-2\">\n            <form className=\"flex\" onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"add a comment...\"\n                    autoComplete=\"off\"\n                    className=\"text-base w-full p-2 rounded-l\"\n                    value={comment}\n                    onChange={({ target }) => setComment(target.value)}\n                />\n                <button\n                    type=\"submit\"\n                    className={`p-2 bg-blue-primary text-gray-light rounded-r sm:text-base text-sm ${\n                        comment.length < 1 && 'opacity-50'\n                    }`}\n                >\n                    SEND\n                </button>\n            </form>\n        </div>\n    );\n}\n\nAddComment.propTypes = {\n    allComments: PropTypes.array,\n    setAllComments: PropTypes.func.isRequired,\n    docId: PropTypes.string.isRequired,\n};\n","import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport AddComment from './AddComment';\nimport UserContext from '../../context/user';\n\nexport default function Comments({ allComments, setAllComments, docId }) {\n    const [viewAll, setViewAll] = useState(false);\n    const { user } = useContext(UserContext);\n\n    return (\n        <div className=\"pt-2\">\n            <div>\n                {allComments.slice(0, 3).map((comment, index) => (\n                    <p className=\"text-sm text-gray-dark break-words\" key={index}>\n                        <Link to={`/p/${user.displayName}`}>\n                            <span className=\"font-bold\">{comment.displayName} </span>\n                        </Link>\n                        {'   '}\n                        {comment.comment}\n                    </p>\n                ))}\n            </div>\n            {allComments.length > 3 && !viewAll ? (\n                <p\n                    className=\"text-xs text-gray-primary opacity-70 pt-2 cursor-pointer\"\n                    onClick={() => setViewAll(true)}\n                >\n                    View All Comments\n                </p>\n            ) : viewAll ? (\n                allComments.slice(3).map((comment, index) => (\n                    <p className=\"text-sm text-gray-dark break-words\" key={index}>\n                        <Link to={`/p/${user.displayName}`}>\n                            <span className=\"font-bold\">{comment.displayName} </span>\n                        </Link>\n                        {'   '}\n                        {comment.comment}\n                    </p>\n                ))\n            ) : null}\n            <AddComment allComments={allComments} setAllComments={setAllComments} docId={docId} />\n        </div>\n    );\n}\n\nComments.propTypes = {\n    allComments: PropTypes.array.isRequired,\n    setAllComments: PropTypes.func.isRequired,\n    docId: PropTypes.string.isRequired,\n};\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Comments from './Comments';\nimport UserContext from '../../context/user';\nimport FirebaseContext from '../../context/firebase';\n\nexport default function Action({ likes, userLikedPhoto, comments, docId }) {\n    const [likeCount, setLikeCount] = useState(likes.length);\n    const [allComments, setAllComments] = useState(comments);\n    const [isUserLiked, setIsUserLiked] = useState(userLikedPhoto);\n\n    const {\n        user: { uid: userId = '' },\n    } = useContext(UserContext);\n    const { firebase, FieldValue } = useContext(FirebaseContext);\n\n    const handleLike = async () => {\n        setIsUserLiked(!isUserLiked);\n        await firebase\n            .firestore()\n            .collection('photos')\n            .doc(docId)\n            .update({\n                likes: isUserLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId),\n            });\n        setLikeCount((likeCount) => (isUserLiked ? likeCount - 1 : likeCount + 1));\n    };\n\n    return (\n        <div className=\"\">\n            <div className=\"flex\">\n                <div className=\"flex items-end\">\n                    <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        className={`sm:h-8 sm:w-8 h-6 w-6 text-gray-dark cursor-pointer ${isUserLiked && 'fill-red'} `}\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                        onClick={handleLike}\n                    >\n                        <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth=\"2\"\n                            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                        />\n                    </svg>\n                    <p className=\"text-sm text-gray-dark\">{likeCount}</p>\n                </div>\n                <div className=\"flex items-end pl-4\">\n                    <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        className=\"h-6 w-6 sm:h-8 sm:w-8 text-gray-dark cursor-pointer\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                    >\n                        <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth=\"2\"\n                            d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                        />\n                    </svg>\n                    <p className=\"text-sm text-gray-dark\">{allComments.length}</p>\n                </div>\n            </div>\n            <Comments setAllComments={setAllComments} allComments={allComments} docId={docId} />\n        </div>\n    );\n}\n\nAction.propTypes = {\n    likes: PropTypes.array.isRequired,\n    comments: PropTypes.array.isRequired,\n    userLikedPhoto: PropTypes.bool.isRequired,\n    docId: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}